{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/admin/admin.component.html","webpack:///./src/app/admin/admin.component.ts","webpack:///./src/app/admin/admin.module.ts","webpack:///./src/app/admin/admin.routes.ts","webpack:///./src/app/admin/dashboard/dashboard.component.css","webpack:///./src/app/admin/dashboard/dashboard.component.html","webpack:///./src/app/admin/dashboard/dashboard.component.ts","webpack:///./src/app/admin/users/users.component.css","webpack:///./src/app/admin/users/users.component.html","webpack:///./src/app/admin/users/users.component.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routes.ts","webpack:///./src/app/components/card-book/card-book.component.html","webpack:///./src/app/components/card-book/card-book.component.ts","webpack:///./src/app/components/loading/loading.component.css","webpack:///./src/app/components/loading/loading.component.html","webpack:///./src/app/components/loading/loading.component.ts","webpack:///./src/app/components/one-book/one-book.component.html","webpack:///./src/app/components/one-book/one-book.component.ts","webpack:///./src/app/pagenotfound/pagenotfound.component.css","webpack:///./src/app/pagenotfound/pagenotfound.component.html","webpack:///./src/app/pagenotfound/pagenotfound.component.ts","webpack:///./src/app/pages/add-book/add-book.component.html","webpack:///./src/app/pages/add-book/add-book.component.ts","webpack:///./src/app/pages/chats/chats.component.css","webpack:///./src/app/pages/chats/chats.component.html","webpack:///./src/app/pages/chats/chats.component.ts","webpack:///./src/app/pages/home/home.component.html","webpack:///./src/app/pages/home/home.component.ts","webpack:///./src/app/pages/library/library.component.html","webpack:///./src/app/pages/library/library.component.ts","webpack:///./src/app/pages/pages.component.html","webpack:///./src/app/pages/pages.component.ts","webpack:///./src/app/pages/pages.module.ts","webpack:///./src/app/pages/pages.routes.ts","webpack:///./src/app/pages/profile/profile.component.html","webpack:///./src/app/pages/profile/profile.component.ts","webpack:///./src/app/pages/search/search.component.html","webpack:///./src/app/pages/search/search.component.ts","webpack:///./src/app/pipes/thousands.pipe.ts","webpack:///./src/app/register/login.component.html","webpack:///./src/app/register/login.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/services/database.service.ts","webpack:///./src/app/services/date.service.ts","webpack:///./src/app/services/guards/admin.guard.ts","webpack:///./src/app/services/guards/login-guard.guard.ts","webpack:///./src/app/shared/header/header.component.html","webpack:///./src/app/shared/header/header.component.ts","webpack:///./src/app/shared/messages/messages.component.html","webpack:///./src/app/shared/messages/messages.component.ts","webpack:///./src/app/shared/shared.module.ts","webpack:///./src/app/shared/sidebar/sidebar.component.html","webpack:///./src/app/shared/sidebar/sidebar.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<div id=\\\"main-wrapper\\\">\\r\\n  <app-header></app-header>\\r\\n  <app-sidebar></app-sidebar>\\r\\n\\r\\n  <!-- ============================================================== -->\\r\\n  <!-- Page wrapper  -->\\r\\n  <!-- ============================================================== -->\\r\\n  <div class=\\\"page-wrapper\\\">\\r\\n    <!-- ============================================================== -->\\r\\n    <!-- Container fluid  -->\\r\\n    <!-- ============================================================== -->\\r\\n    <div class=\\\"container-fluid\\\">\\r\\n\\r\\n      <!-- ============================================================== -->\\r\\n      <!-- Start Page Content -->\\r\\n      <!-- ============================================================== -->\\r\\n      <router-outlet></router-outlet>\\r\\n      <!-- ============================================================== -->\\r\\n      <!-- End Page Content -->\\r\\n      <!-- ============================================================== -->\\r\\n    </div>\\r\\n    <!-- ============================================================== -->\\r\\n    <!-- END Container fluid  -->\\r\\n    <!-- ============================================================== -->\\r\\n  </div>\\r\\n  <!-- ============================================================== -->\\r\\n  <!-- END Page wrapper  -->\\r\\n  <!-- ============================================================== -->\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.component.html',\r\n  styles: []\r\n})\r\nexport class AdminComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ADMIN_ROUTES } from './admin.routes';\r\n// Modulos\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n// Componentes\r\nimport { AdminComponent } from './admin.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { UsersComponent } from './users/users.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    ADMIN_ROUTES\r\n  ],\r\n  declarations: [\r\n    AdminComponent,\r\n    DashboardComponent,\r\n    UsersComponent\r\n  ]\r\n})\r\nexport class AdminModule { }\r\n","import {  RouterModule, Routes } from '@angular/router';\r\n\r\n// PAGES\r\nimport { AdminComponent } from './admin.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\nimport { LoginGuardGuard } from '../services/guards/login-guard.guard';\r\nimport { AdminGuard } from '../services/guards/admin.guard';\r\nimport { UsersComponent } from './users/users.component';\r\n\r\n// GUARD\r\n// import { LoginGuardGuard } from '../services/guards/login-guard.guard';\r\n// guard de admin\r\n\r\nconst ADMIN_ROUTE: Routes = [\r\n\t{\r\n\t\tpath: 'admin',\r\n    component: AdminComponent,\r\n    canActivate: [ LoginGuardGuard, AdminGuard ],\r\n      children: [\r\n        { path: 'dashboard', component: DashboardComponent },\r\n        { path: 'users', component: UsersComponent },\r\n        { path: '', pathMatch: 'full', redirectTo: 'dashboard' }\r\n      ]\r\n   }\r\n];\r\n\r\nexport const ADMIN_ROUTES = RouterModule.forChild(ADMIN_ROUTE);","module.exports = \"\"","module.exports = \"<div class=\\\"container-dashboard\\\">\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<!-- Report boxes\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-4\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex no-block\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"m-r-20 align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"lstick m-r-20\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/icon/staff.png\\\" alt=\\\"Income\\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h6 class=\\\"text-muted m-t-10 m-b-0\\\">Total de usuarios</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\\\"m-t-0\\\">{{ count_users }}</h2>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"col-lg-4\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex no-block\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"m-r-20 align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"lstick m-r-20\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/icon/expense.png\\\" alt=\\\"Income\\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h6 class=\\\"text-muted m-t-10 m-b-0\\\">Total de libros</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\\\"m-t-0\\\">{{ count_books }}</h2>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"col-lg-4\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex no-block\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"m-r-20 align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"lstick m-r-20\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/icon/assets.png\\\" alt=\\\"Income\\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"align-self-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h6 class=\\\"text-muted m-t-10 m-b-0\\\">Mensajes enviados</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\\\"m-t-0\\\">{{ count_messages }}</h2>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<!-- End report boxes\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t<!-- =============================================================== -->\\r\\n\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<!-- Users status\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-12 col-md-12\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\"><span class=\\\"lstick\\\"></span>Estado de usuarios</h4>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- TODO: ??? Agregar admin -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- <div class=\\\"ml-auto\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"pull-right btn btn-circle btn-info\\\" data-toggle=\\\"modal\\\" data-target=\\\"#addAdmin\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-plus\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"table-responsive m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t<table class=\\\"table vm no-th-brd no-wrap pro-of-month\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th colspan=\\\"2\\\">Usuario</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Tipo de usuario</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Estado</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Cambiar estado</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let u of users\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width:50px;\\\"><span class=\\\"round\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/users/1.jpg\\\" alt=\\\"user\\\" width=\\\"50\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ u.name | titlecase }} {{ u.last_name1 | titlecase }} {{ u.last_name2 | titlecase }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Creado el: {{ u.created_date }}</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{ u.role | titlecase }}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"[u.status] == 'true'\\\" class=\\\"label label-success label-rounded\\\">Activo</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"[u.status] == 'false'\\\" class=\\\"label label-danger label-rounded\\\">Inactivo</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Hacer algo con esto -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCambiar jjj\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- =============================================================== -->\\r\\n\\t<!-- End users status\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t<!-- =============================================================== -->\\r\\n\\r\\n\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- Reports\\t\\t\\t              \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-12 col-md-12\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"card-title m-b-5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"lstick\\\"></span>Reportes \\r\\n\\t\\t\\t\\t\\t\\t\\t</h3>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"ml-auto\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- FIXME: -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Hacer que funcione por fechas -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<label>Fecha</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<select class=\\\"custom-select b-0\\\" formControlName=\\\"date\\\">Fecha\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"all\\\" selected>Todas</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option *ngFor=\\\"let r of reports\\\">{{ r.day }}</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<table class=\\\"table vm no-th-brd no-wrap pro-of-month\\\">\\r\\n\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>ID</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Usuario que reporta</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Tipo de reporte</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Fecha</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Hora</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Reporte</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th>Estado</th>\\r\\n\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let r of reports\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Revisar visualmente y borrar referencis sin ID -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ r.id }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ r.user.name | titlecase }} {{ r.user.last_name1 | titlecase }} {{ r.user.last_name2 | titlecase }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ r.type }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ r.day }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ r.hour }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- FIXME: Alinear el link de la img para que quede justificado o algo así, a la columna -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <h6 *ngIf=\\\"r.type == 'Reporte de imagen'\\\">Se reportan las imagenes contenidas en el siguiente link {{ r.img }}</h6> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6 *ngIf=\\\"r.type == 'Reporte de usuario'\\\">Se reporta al usuario {{ r.user_reported.name | titlecase }} {{ r.user_reported.last_name1 | titlecase }} {{ r.user_reported.last_name2 | titlecase }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"[r.status] == 'Revisado'\\\" class=\\\"label label-success label-rounded\\\">Revisado</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"[r.status] == 'No revisado'\\\" class=\\\"label label-danger label-rounded\\\">No revisado</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n  </div>\\r\\n  <!-- ============================================================== -->\\r\\n\\t<!-- End reports\\t\\t\\t              \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t<!-- ============================================================== -->\\r\\n\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- Todo list \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-6 col-xlg-8\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\"><span class=\\\"lstick\\\"></span>To Do list</h4>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"ml-auto\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"pull-right btn btn-circle btn-success\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-plus\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"to-do-widget m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- Modal for add tasks   \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t  -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"modal fade\\\" id=\\\"myModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"true\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"modal-title\\\">Agregar tarea</h4>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"> <span aria-hidden=\\\"true\\\">&times;</span> </button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<form>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Nombre de la tarea</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"task\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Revisar mensajes\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Descripción de la tarea</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Revisar la lista de mensajes que están pendientes\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Prioridad</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<select formControlName=\\\"priority\\\" class=\\\"custom-select form-control pull-right\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"high\\\">Alta</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"medium\\\">Media</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"low\\\">Baja</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-success\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addTask()\\\">Agregar</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- End modal for add tasks   \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t  -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<ul class=\\\"list-task todo-list list-group m-b-0\\\" data-role=\\\"tasklist\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"list-group-item\\\" data-role=\\\"task\\\" *ngFor=\\\"let t of tasks\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-info m-b-10\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" id=\\\"inputSchedule\\\" name=\\\"inputCheckboxesSchedule\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"inputSchedule\\\" class=\\\"\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>{{ t.task }}</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-rounded label-danger pull-right\\\">{{ t.description }}</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"list-group-item\\\" data-role=\\\"task\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" id=\\\"inputBook\\\" name=\\\"inputCheckboxesBook\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"inputBook\\\" class=\\\"\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-primary label-rounded pull-right\\\">{{ t.priority }}</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"item-date\\\"> 26 jun 2017</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"list-group-item\\\" data-role=\\\"task\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" id=\\\"inputCall\\\" name=\\\"inputCheckboxesCall\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"inputCall\\\" class=\\\"\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Give Purchase report to</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-info label-rounded pull-right\\\">Yesterday</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"list-group-item\\\" data-role=\\\"task\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" id=\\\"inputForward\\\" name=\\\"inputCheckboxesForward\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"inputForward\\\" class=\\\"\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-warning label-rounded pull-right\\\">2 weeks</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"item-date\\\">{{ actual_day }}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<!-- My contact and feed \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\t\\t\\t\\t\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<div class=\\\"col-lg-6\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\"><span class=\\\"lstick\\\"></span> Feeds</h4>\\r\\n\\t\\t\\t\\t\\t<ul class=\\\"feeds\\\">\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-bell-o\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> You have 4 pending tasks. \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">Just Now</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-success\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-server\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> Server #1 overloaded.\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">2 Hours ago</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-warning\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-shopping-cart\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> New order received.\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">31 May</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-danger\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-user\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> New user registered.\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">30 May</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t/li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-inverse\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-bell-o\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> New Version just arrived. \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">27 May</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-danger\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-user\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> New user registered.\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">30 May</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bg-light-primary\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-settings\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> You have 4 pending tasks. \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted\\\">27 May</span>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- Comment and chat -->\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-6\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\"><span class=\\\"lstick\\\"></span>Recent Comments</h4>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Comment widgets -->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<div class=\\\"comment-widgets\\\">\\r\\n\\t\\t\\t\\t\\t<!-- Comment Row -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex flex-row comment-row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"p-2\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"round\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/users/1.jpg\\\" alt=\\\"user\\\" width=\\\"50\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"comment-text w-100\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h5>James Anderson</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"m-b-5\\\">Lorem Ipsum is simply dummy text of the printing and type setting industry. Lorem Ipsum has beenorem Ipsum is simply dummy text of the printing and type setting industry.</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"comment-footer\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted pull-right\\\">April 14, 2016</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-rounded label-info\\\">Pending</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"action-icons\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-pencil-alt\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-check\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-heart\\\"></i></a>    \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<!-- Comment Row -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex flex-row comment-row active\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"p-2\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"round\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/users/2.jpg\\\" alt=\\\"user\\\" width=\\\"50\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"comment-text active w-100\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h5>Michael Jorden</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"m-b-5\\\">Lorem Ipsum is simply dummy text of the printing and type setting industry. Lorem Ipsum has beenorem Ipsum is simply dummy text of the printing and type setting industry..</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"comment-footer \\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted pull-right\\\">April 14, 2016</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-success label-rounded\\\">Approved</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"action-icons active\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-pencil-alt\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"icon-close\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-heart text-danger\\\"></i></a>    \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<!-- Comment Row -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex flex-row comment-row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"p-2\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"round\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"../assets/images/users/3.jpg\\\" alt=\\\"user\\\" width=\\\"50\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"comment-text w-100\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h5>Johnathan Doeting</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"m-b-5\\\">Lorem Ipsum is simply dummy text of the printing and type setting industry. Lorem Ipsum has beenorem Ipsum is simply dummy text of the printing and type setting industry.</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"comment-footer\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"text-muted pull-right\\\">April 14, 2016</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"label label-rounded label-danger\\\">Rejected</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"action-icons\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-pencil-alt\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-check\\\"></i></a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\"><i class=\\\"ti-heart\\\"></i></a>    \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- End Right panel -->\\r\\n\\t<!-- ============================================================== -->\\r\\n</div>\\r\\n<!-- ============================================================== -->\\r\\n<!-- End Container fluid  -->\\r\\n<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t\\t\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormControlName, FormGroup, Validators } from '@angular/forms';\r\n\r\n// SERVICES\r\nimport { DatabaseService } from '../../services/database.service';\r\nimport { DateService } from '../../services/date.service';\r\n\r\n@Component({\r\n\tselector: 'app-dashboard',\r\n\ttemplateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n\tactual_user:any;\r\n\tactual_date:any;\r\n\tactual_day:any;\r\n\r\n\t// Data de la DB\r\n\tusers:any;\r\n\treports:any;\r\n\ttasks:any;\r\n\r\n\t// Cantidad de \r\n\tcount_users:number;\r\n\tcount_books:number;\r\n\tcount_messages:number;\r\n\r\n\tform:any;\r\n\r\n\tconstructor( \tprivate _dbService:DatabaseService,\r\n\t\t\t\t\t\t\t\tprivate _date:DateService ) {\r\n\t\tthis.actual_user = JSON.parse( localStorage.getItem( \"user\" ) );\r\n\t\tthis.actual_date = this._date.actual_date();\r\n\t\tthis.actual_day = this._date.actual_day();\r\n\r\n\t\tthis._dbService.getData( \"users\")\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => {\r\n\t\t\t\tthis.users = data;\r\n\t\t\t\tthis.count_users = data.length;\r\n\t\t\t});\r\n\t\t\t\r\n\t\tthis._dbService.getData( \"books\")\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => this.count_books = data.length );\r\n\t\t\t\r\n\t\tthis._dbService.getData( \"messages-transaction\")\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => this.count_messages = data.length );\r\n\r\n\t\tthis._dbService.getData( \"reports\")\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => this.reports = data );\r\n\r\n\t\t// this._dbService.getData( \"tasks\")\r\n\t\t// \t.valueChanges()\r\n\t\t// \t.subscribe( data => this.tasks = data );\r\n\r\n\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.form = new FormGroup({\r\n\t\t\ttask:         new FormControl(Validators.required),\r\n\t\t\tdescription:  new FormControl(Validators.required),\r\n\t\t\tpriority:     new FormControl(Validators.required) //high, medium, low\r\n\t\t});\r\n\t\r\n\t}\r\n\r\n\t// TODO: Terminar po jjj\r\n\taddTask(){\r\n\t\tthis._dbService.addDataIdCustom('tasks', this.actual_user, this.form)\r\n\t\t\t.then( () => swal('Tarea guardada', 'La tarea ha sido guardada con éxito', 'success') )\r\n\t\t\t.catch( () => swal('Error', 'La tarea no ha podido guardarse, vuelva a intentarlo', 'error') );\r\n\t}\r\n\r\n\t\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<h1>Usuarios</h1>\\r\\n<div class=\\\"row\\\">\\r\\n\\t<div class=\\\"col-md-6 col-lg-6 col-xlg-4\\\" *ngFor=\\\"let u of users\\\">\\r\\n\\t\\t<div class=\\\"card card-body\\\">\\r\\n\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-md-4 col-lg-3 text-center\\\">\\r\\n\\t\\t\\t\\t\\t<img [src]=\\\"u.img\\\" alt=\\\"user\\\" class=\\\"img-circle img-responsive\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-md-8 col-lg-9\\\">\\r\\n\\t\\t\\t\\t\\t<h3 class=\\\"box-title m-b-0\\\">{{ u.name | titlecase }} {{ u.last_name1 | titlecase }} {{ u.last_name2 | titlecase }}</h3> \\r\\n\\t\\t\\t\\t\\t<small>{{ u.rut }}</small>\\r\\n\\t\\t\\t\\t\\t<br/>\\r\\n\\t\\t\\t\\t\\t<address>\\r\\n\\t\\t\\t\\t\\t\\t{{ u.email }}\\r\\n\\t\\t\\t\\t\\t\\t<br/>\\r\\n\\t\\t\\t\\t\\t\\t<abbr title=\\\"Phone\\\">P:</abbr> (+56 9) {{ u.phone }}\\r\\n\\t\\t\\t\\t\\t</address>\\r\\n\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Creado el: {{ u.created_date }}</small>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n// SERVICES\nimport { DatabaseService } from '../../services/database.service';\n\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n\tusers:any;\n\n  constructor( private _dbService:DatabaseService) { \n    this._dbService.getData( \"users\")\n\t\t\t.valueChanges()\n\t\t\t.subscribe( data => this.users = data );\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<router-outlet></router-outlet>\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  \r\n  constructor(){\r\n    if(JSON.parse(localStorage.getItem('session')) === null) {\r\n\t\t\tlocalStorage.setItem('session', JSON.stringify({\r\n\t\t\t\tsession: false,\r\n\t\t\t\trememberMe: false\r\n\t\t\t}));\r\n\t\t}\r\n  }\r\n}","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// RUTAS\r\nimport { APP_ROUTES } from './app.routes';\r\n\r\n// MODULOS\r\nimport { PagesModule } from './pages/pages.module';\r\nimport { AdminModule } from './admin/admin.module';\r\n\r\n// COMPONENTES\r\nimport { AppComponent } from './app.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { LoginComponent } from './register/login.component';\r\nimport { PagenotfoundComponent } from './pagenotfound/pagenotfound.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    PagenotfoundComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    PagesModule,\r\n    AdminModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    APP_ROUTES\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import {  RouterModule, Routes } from '@angular/router';\r\n\r\n// Componentes\r\nimport { LoginComponent } from './register/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { PagenotfoundComponent } from './pagenotfound/pagenotfound.component';\r\n\r\nconst appRoutes: Routes = [\r\n   { path: 'login', component: LoginComponent },\r\n   { path: 'register', component: RegisterComponent },\r\n   { path: '**', component: PagenotfoundComponent }\r\n];\r\n\r\nexport const APP_ROUTES = RouterModule.forRoot(appRoutes, {useHash: true});","module.exports = \"<!-- ============================================================================== -->\\r\\n<!-- Loader \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n<div *ngIf=\\\"loading\\\" class=\\\"loader-contenedor\\\">\\r\\n\\t<app-loading></app-loading>\\r\\n\\t<p> Buscando libros... </p>\\r\\n</div>\\r\\n<!-- ============================================================================== -->\\r\\n<!-- End loader \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n\\r\\n<!-- ============================================================================== -->\\r\\n<!-- Card book \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n<div class=\\\"container-fluid\\\">\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div *ngIf=\\\"!loading\\\" class=\\\"card-columns\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card\\\" style=\\\"max-width:18rem;\\\" *ngFor=\\\"let book of books; let index = index;\\\">\\r\\n\\t\\t\\t\\t\\t<!-- CARROUSEL BOOK IMAGES -->\\r\\n\\t\\t\\t\\t\\t<div id=\\\"carouselExampleFade-{{index}}\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-inner\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-item\\\" *ngFor=\\\"let img of book.images; let i=index;\\\" [ngClass]=\\\"{'active': i===0}\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t <img class=\\\"d-block img-carousel\\\" [src]=\\\"img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div> \\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-prev\\\" href=\\\"#carouselExampleFade-{{index}}\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-next\\\" href=\\\"#carouselExampleFade-{{index}}\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t </div>\\r\\n\\t\\t\\t\\t\\t<!-- END CARROUSEL BOOK IMAGES -->\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<!-- TEXT CARD -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t<h5 class=\\\"card-title\\\">Título: {{ book.title | titlecase }}</h5>\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">Autor/a: {{ book.author | titlecase }}</p>\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">Editorial: {{ book.editorial | titlecase }}</p>\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">Fecha publicación: {{ book.date }}</p>\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\" *ngIf=\\\"book.transaction == 'Ambos' || book.transaction == 'Venta'\\\">Price: ${{ book.price | thousands }}</p>\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">Dueño: {{book.user.name | titlecase }} {{book.user.last_name1 | titlecase }} {{book.user.last_name2 | titlecase }}</p>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"book.uid === actual_user.uid\\\" class=\\\"btn btn-outline-info col-md-12\\\" data-toggle=\\\"modal\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-target=\\\"#showBook\\\" type=\\\"button\\\" (click)=\\\"book_modal=book\\\">Ver libro</button>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"book.uid !== actual_user.uid\\\" class=\\\"btn btn-outline-info col-md-6\\\" data-toggle=\\\"modal\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-target=\\\"#showBook\\\" type=\\\"button\\\" (click)=\\\"book_modal=book\\\">Ver libro</button>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"book.uid !== actual_user.uid\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-outline-info col-md-6\\\" data-toggle=\\\"modal\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-target=\\\"#contactOwner\\\" type=\\\"button\\\" (click)=\\\"book_modal=book\\\">Contactar</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<!-- END TEXT CARD -->\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<!-- ============================================================================================================== -->\\r\\n<!-- Modal show book\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================================================== -->\\r\\n<div \\tclass=\\\"modal fade bs-example-modal-lg\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"showBook\\\"\\t\\t\\t\\t\\r\\n\\t\\t\\taria-labelledby=\\\"myLargeModalLabel\\\" aria-hidden=\\\"true\\\" style=\\\"display: none;\\\">\\r\\n\\t<div class=\\\"modal-dialog modal-lg\\\">\\r\\n\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t<h4 class=\\\"modal-title\\\" id=\\\"myLargeModalLabel\\\"> {{ book_modal.title | titlecase }}</h4>\\r\\n\\t\\t\\t\\t<div class=\\\"other-header\\\">\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<button  type=\\\"button\\\" aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\" class=\\\"close waves-effect\\\" data-toggle=\\\"dropdown\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-angle-down\\\"></i>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t<!-- FIXME: Mover eso para que quede debajo del angle-down -->\\r\\n\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t<!-- Little modal to report\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu dropdown-menu-right mailbox animated bounceInDown\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ul style=\\\"padding: 0%!important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"message-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=reportUser(book_modal)>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-danger btn-circle\\\"><i class=\\\"ti-user\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 style=\\\"display: inline; margin-left: 20px;\\\">Reportar usuario</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=reportImage(book_modal)>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-danger btn-circle\\\"><i class=\\\"fa fa-file-image-o\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 style=\\\"display: inline; margin-left: 20px;\\\">Reportar imagen</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- FIXME: Porfi porfi amorcito -->\\r\\n\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t<!-- End little modal to report\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t<app-one-book [book]=\\\"book_modal\\\"></app-one-book>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t<!-- Profile collapse\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t<div id=\\\"accordion\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t  \\t<div class=\\\"card-header\\\" id=\\\"headingOne\\\">\\r\\n\\t\\t\\t\\t\\t\\t<h5 class=\\\"mb-0\\\">\\r\\n\\t\\t\\t\\t\\t  \\t<button class=\\\"btn btn-link\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#collapseOne\\\" aria-expanded=\\\"true\\\" aria-controls=\\\"collapseOne\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tVer perfil del dueño\\r\\n\\t\\t\\t\\t\\t  \\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</h5>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div id=\\\"collapseOne\\\" class=\\\"collapse \\\" aria-labelledby=\\\"headingOne\\\" data-parent=\\\"#accordion\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- Show profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-body row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\" align=\\\"center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"book_modal.user.img\\\" class=\\\"img-circle\\\" width=\\\"150\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ book_modal.user.name | titlecase }} {{ book_modal.user.last_name1 | titlecase }} {{ book_modal.user.last_name2 | titlecase }} </h4>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6 class=\\\"card-subtitle\\\">Accoubts Manager Amix corp</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row text-center justify-content-md-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" class=\\\"link\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-book\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <font class=\\\"font-medium\\\"> {{ count_book }}</font> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Correo electrónico</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6> {{ book_modal.user.email }} </h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted p-t-30 db\\\">Teléfono de contacto</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6> {{ book_modal.user.phone }} </h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Revisar que esté aparezcan todas las cat. Copiar en modal de cardbook -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Categorías favoritas:</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ book_modal.user.categories }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-divider\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted p-t-30 db\\\">Redes sociales</small><br/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-facebook\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-twitter\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-youtube\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- End show profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t<!-- End profile collapse\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ====================================================================== -->\\r\\n\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger waves-effect text-left\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ====================================================================== -->\\r\\n<!-- End modal show book\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ====================================================================== -->\\r\\n\\r\\n\\r\\n<!-- ====================================================================== -->\\r\\n<!-- Modal contact owner\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ====================================================================== -->\\r\\n<div \\tclass=\\\"modal fade bs-example-modal-lg\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"contactOwner\\\"\\r\\n\\t\\t\\taria-labelledby=\\\"myLargeModalLabel\\\" aria-hidden=\\\"true\\\" style=\\\"display: none;\\\">\\r\\n\\t<div class=\\\"modal-dialog modal-lg\\\">\\r\\n\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t<h4 class=\\\"modal-title\\\" id=\\\"myLargeModalLabel\\\"> Contactar dueño/a </h4>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"sendMessage()\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t\\t<!-- Transaction -- Ambos -->\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"book_modal.transaction == 'Ambos'\\\" >\\r\\n\\t\\t\\t\\t\\t\\t<label>Elija el tipo de transacción que desea</label>\\r\\n\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"transaction\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Intercambio\\\">Deseo intercambiar el libro</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Venta\\\">Deseo comprar el libro</option>\\r\\n\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t</div><br>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Preferences -->\\r\\n\\t\\t\\t\\t\\t<!-- FIXME: Esto tiene que ser una tabla u otra cosa, no un select -->\\r\\n\\t\\t\\t\\t\\t<!-- https://www.lawebdelprogramador.com/foros/JavaScript/1495600-seleccionar-una-o-varias-filas-de-una-tabla-y-marcar-o-desmarcar-el-check-de-la-fila-correspondiente.html -->\\r\\n\\t\\t\\t\\t\\t<label>Seleccione la preferencia que más le acomode</label>\\r\\n\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"pref\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"{{ p.subway_station }}-{{ p.day }}-{{ p.hour }}\\\" *ngFor=\\\"let p of book_modal.user.preferences\\\">{{ p.subway_station }} - {{ p.day }} - {{ p.hour  }}</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"dislike_preferences\\\">Ninguna me acomoda</option>\\r\\n\\t\\t\\t\\t\\t</select><br>\\r\\n\\t\\t\\t\\t\\t<!-- <div class=\\\"table-responsive\\\">\\r\\n\\t\\t\\t\\t\\t\\t<table class=\\\"table color-table info-table\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Selección</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Estación de metro</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Día</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Horario</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let p of book_modal.user.preferences\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"controls\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"custom-control custom-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" value=\\\"p\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"custom-control-indicator\\\"></span>  \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.subway_station }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.day }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.hour }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t\\t<br>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<!-- Custom preferences -->\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"form.value.pref === 'dislike_preferences'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label>Seleccione el horario que desea proponer</label>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- Station -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Estación de metro</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Arreglar esa huea rancia fjdksljfklsdjglksjgks -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select formControlName=\\\"station\\\" id=\\\"subway_station\\\" class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 1\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"República\\\">República</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Héroes\\\">Los Héroes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"La Moneda\\\">La Moneda</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad de Chile\\\">Universidad de Chile</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Lucía\\\">Santa Lucía</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad Católica\\\">Universidad Católica</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Salvador\\\">Salvador</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Manuel Montt\\\">Manuel Montt</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Pedro de Valdivia\\\">Pedro de Valdivia</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Leones\\\">Los Leones</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Tobalaba\\\">Tobalaba</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Quinta Normal\\\">Quinta Normal</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Cumming\\\">Cumming</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Ana\\\">Santa Ana</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Plaza de Armas\\\">Plaza de Armas</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Bellas Artes\\\">Bellas Artes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Parque Bustamante\\\">Parque Bustamante</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Isabel\\\">Santa Isabel</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- Day -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Tipo de elemento</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<select formControlName=\\\"day\\\" id=\\\"day\\\" class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Lunes\\\">Lunes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Martes\\\">Martes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Miércoles\\\">Miércoles</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Jueves\\\">Jueves</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Viernes\\\">Viernes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Sábado\\\">Sábado</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Domingo\\\">Domingo</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- Hour -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Hora</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"hour\\\" class=\\\"form-control\\\" type=\\\"time\\\" value=\\\"12:00\\\" id=\\\"hour\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Message -->\\r\\n\\t\\t\\t\\t\\t<div >\\r\\n\\t\\t\\t\\t\\t\\t<label>Seleccione el mensaje a enviar</label>\\r\\n\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"text\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Deseo establecer la transacción\\\">Deseo establecer la transacción</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<option *ngIf=\\\"book_modal.transaction == 'Venta' || form.value.transaction == 'Venta'\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"dislike-price\\\">No me acomoda el precio</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"new_text\\\">Deseo escribirle un mensajes personalmente</option>\\r\\n\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t</div><br>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<!-- Custom price -->\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"form.value.text == 'dislike-price'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label>Ingrese el precio que desea proponer</label>\\r\\n\\t\\t\\t\\t\\t\\t<input \\ttype=\\\"text\\\" formControlName=\\\"new_price\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 2000\\\">\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Custom message -->\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"form.value.text == 'new_text'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label>Mensaje</label>\\r\\n\\t\\t\\t\\t\\t\\t<input \\ttype=\\\"text\\\" formControlName=\\\"new_text\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Hola, me gustaría establecer la transacción del libro...\\\">\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-outline-info waves-effect text-left\\\">Enviar</button>\\r\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger waves-effect text-left\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</form>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ====================================================================== -->\\r\\n<!-- End modal contact owner\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ====================================================================== -->\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n// INTERFACE\r\nimport { Books, Message, Users, Report } from '../../interface/books.interface';\r\n\r\n// SERVICIOS\r\nimport { DatabaseService } from '../../services/database.service';\r\nimport { DateService } from '../../services/date.service';\r\n\r\nimport swal from 'sweetalert';\r\n\r\n@Component({\r\n  selector: 'app-card-book',\r\n  templateUrl: './card-book.component.html'\r\n})\r\nexport class CardBookComponent implements OnInit {\r\n\r\n\t// Input desde el Home, traen el elemento a mostrar\r\n\t@Input() type:string; \r\n\t@Input() booksHome:any[]; \r\n\r\n\tbooks:any[]; // array con los books a mostrar\r\n\tloading:boolean = true; // muestra y esconde un loading\r\n\tform:any; \r\n\tactual_user:any;\r\n\ttoday:any;\r\n\r\n\tbook_modal: Books = {\r\n\t\tauthor: \t\t\t'', \r\n\t\ttitle: \t\t\t\t'', \r\n\t\teditorial: \t\t'', \r\n\t\ttype: \t\t\t\t'', \r\n\t\tcategories: \t[], \r\n\t\tlanguage: \t\t'', \r\n\t\tnum_page: \t\t0,\r\n\t\toriginal: \t\tfalse, \r\n\t\ttransaction:\t'', \t\r\n\t\tuser: \t\t\t\t'', \r\n\t\tid: \t\t\t\t\t'', \r\n\t\tcomment: \t\t\t'', \r\n\t\tprice: \t\t\t\t0, \r\n\t\timages: \t\t\t[],\r\n\t\tdate: \t\t\t\t''\r\n\t};\r\n\r\n\tconstructor(\tprivate _date:DateService,\r\n\t\t\t\t\t\t\t\tprivate _dbService:DatabaseService) {\r\n\t\tthis.actual_user = JSON.parse(localStorage.getItem('user'));\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tsetTimeout( () => { \r\n\t\t\tif( this.type === 'all' ){\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.books = this.booksHome;\r\n\t\t\t}else {\r\n\t\t\t\tlet aux = [];\r\n\r\n\t\t\t\tfor(let book of this.booksHome){\r\n\t\t\t\t\tif( book.transaction ===  this.type ) aux.push(book);\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.books = aux;\r\n\t\t\t}\r\n\t\t}, 2000);\r\n\r\n\t\tthis.form = \t\t\t\tnew FormGroup({\r\n\t\t\ttext: \t\t\t\t\t\tnew FormControl([], Validators.required),\r\n\t\t\ttransaction: \t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tpref: \t\t\t\t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\t// new_preference: \tnew FormControl(''),\r\n\t\t\tstation: \t\t\t\t\tnew FormControl(''),\r\n\t\t\thour: \t\t\t\t\t\tnew FormControl(''),\r\n\t\t\tday: \t\t\t\t\t\t\tnew FormControl(''),\r\n\t\t\tnew_price:\t\t\t\tnew FormControl(0),\r\n\t\t\tnew_text:\t\t\t\t\tnew FormControl([], Validators.required),\r\n\t\t})\r\n\r\n\t }\r\n\r\n\t// Envía el mensaje desde el usuario actual hacia el usuario dueño del libro\r\n\tsendMessage(){\r\n\t\tlet predet_Message:Message = {\r\n\t\t\ttransaction:\t\t\t\t\t\t\t\tthis.form.value.transaction,\r\n\t\t\tpref: \t\t\t\t\t\t\t\t\t\t\tthis.form.value.pref,\r\n\t\t\ttext:\t\t\t\t\t\t\t\t\t[{ \r\n\t\t\t\t[this.actual_user.uid]: \tthis.form.value.text, \r\n\t\t\t\tdate: \t\t\t\t\t\t\t\t\t\tthis._date.actual_date()\r\n\t\t\t}],\r\n\t\t\tdate:\t\t\t\t\t\t\t\t\t\t\t\tthis._date.actual_date(),\r\n\t\t\tbook:\t\t\t\t\t\t\t\t\t\t\t\tthis.book_modal,\r\n\t\t\tuser_owner:\t\t\t\t\t\t\t\t\tthis.book_modal.user.uid,\r\n\t\t\tuid_interested:\t\t\t\t\t\t\tthis.actual_user,\r\n\t\t\tstatus:\t\t\t\t\t\t\t\t\t\t\tfalse,\r\n\t\t\tprice:\t\t\t\t\t\t\t\t\t\t\tthis.book_modal.price\r\n\t\t}\r\n\t\tconsole.log(predet_Message.pref);\r\n\t\r\n\r\n\t\tif ( this.form.value.transaction == undefined || this.form.value.transaction === null){\r\n\t\t\tpredet_Message.transaction = this.book_modal.transaction;\r\n\t\t}\r\n\r\n\t\tif ( this.form.value.pref === 'dislike_preferences' ){\r\n\t\t\tlet new_preferences = this.form.value.station + ' - ' + this.form.value.day + ' - ' + this.form.value.hour;\r\n\t\t\tpredet_Message.pref = new_preferences;\r\n\t\t}\r\n\r\n\t\tif ( this.form.value.text === 'dislike-price' ){\r\n\t\t\tpredet_Message.price = this.form.value.price;\r\n\t\t}\r\n\r\n\t\tif ( this.form.value.text === 'new_text' ){\r\n\t\t\tpredet_Message.text = [{\r\n\t\t\t\t[this.actual_user.uid]: this.form.value.new_text,\r\n\t\t\t\tdate:\t\t\t\t\t\t\t\t\t\tthis._date.actual_date()\r\n\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\tconsole.log(predet_Message.pref);\r\n\r\n\t\t// Envía el mensaje a la DB.\r\n\t\tthis._dbService.addData('messages-transaction', predet_Message)\r\n\t\t\t.then( () => swal('Mensaje enviado', 'Su mensaje ha sido enviado con éxito', 'success') )\r\n\t\t\t.catch( () => swal('Error', 'Su mensaje no ha podido enviarse, vuelva a intentarlo', 'error') );\r\n\t}\r\n\t\r\n\t// Envía el mensaje de reporte del usuario al admin\r\n\treportUser( book_m:any ){\r\n\r\n\t\tlet report:Report = {\r\n\t\t\tid: \t\t\t\t\t\tthis.actual_user.uid + \"-\" + new Date().valueOf(),\r\n\t\t\tday: \t\t\t\t\t\tthis._date.actual_day(),\r\n\t\t\thour: \t\t\t\t\tthis._date.actual_hour(),\r\n\t\t\tuser: \t\t\t\t\tthis.actual_user,\r\n\t\t\tuser_reported: \tbook_m.user,\r\n\t\t\ttype: \t\t\t\t\t\"Reporte de usuario\",\r\n\t\t\tstatus:\t\t\t\t\t\"No revisado\"\r\n\t\t}\r\n\t\tconsole.log(report);\t\r\n\t\t// Envía el mensaje a la DB.\r\n\t\tthis._dbService.addData('reports', report)\r\n\t\t\t.then( () => swal('Reporte enviado', 'Muchas gracias por reportar, lo revisaremos en seguida', 'success') )\r\n\t\t\t.catch( () => swal('Error', 'Su reporte no ha podido enviarse', 'error') );\r\n\t}\r\n\r\n\t// Envía el mensaje de reporte de imagen al admin\r\n\treportImage( book_m:any ){\r\n\r\n\t\tlet report:Report = {\r\n\t\t\tid: \t\t\t\t\tthis.actual_user.uid + \"-\" + new Date().valueOf(),\r\n\t\t\tday: \t\t\t\t\tthis._date.actual_day(),\r\n\t\t\thour: \t\t\t\tthis._date.actual_hour(),\r\n\t\t\tuser: \t\t\t\tthis.actual_user,\r\n\t\t\timg: \t\t\t\t\tbook_m.images,\r\n\t\t\ttype: \t\t\t\t\"Reporte de imagen\",\r\n\t\t\tstatus: \t\t\t\"No revisado\"\r\n\t\t}\r\n\t\tconsole.log(report);\t\r\n\t\t// Envía el mensaje a la DB.\r\n\t\tthis._dbService.addData('reports', report)\r\n\t\t\t.then( () => swal('Reporte enviado', 'Muchas gracias por reportar, lo revisaremos en seguida', 'success') )\r\n\t\t\t.catch( () => swal('Error', 'Su reporte no ha podido enviarse', 'error') );\r\n\t}\r\n\r\n}\r\n","module.exports = \".spinner {\\r\\n  width: 70px;\\r\\n  text-align: center;\\r\\n  -webkit-transform:scale(50%);\\r\\n          transform:scale(50%);\\r\\n}\\r\\n\\r\\n.spinner > div {\\r\\n  width: 18px;\\r\\n  height: 18px;\\r\\n  background-color: #333;\\r\\n\\r\\n  border-radius: 100%;\\r\\n  display: inline-block;\\r\\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\\r\\n  animation: bouncedelay 1.4s infinite ease-in-out;\\r\\n  /* Prevent first frame from flickering when animation starts */\\r\\n  -webkit-animation-fill-mode: both;\\r\\n  animation-fill-mode: both;\\r\\n}\\r\\n\\r\\n.spinner .bounce1 {\\r\\n  -webkit-animation-delay: -0.32s;\\r\\n  animation-delay: -0.32s;\\r\\n}\\r\\n\\r\\n.spinner .bounce2 {\\r\\n  -webkit-animation-delay: -0.16s;\\r\\n  animation-delay: -0.16s;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes bouncedelay {\\r\\n  0%, 80%, 100% { -webkit-transform: scale(0.0) }\\r\\n  40% { -webkit-transform: scale(1.0) }\\r\\n}\\r\\n\\r\\n@keyframes bouncedelay {\\r\\n  0%, 80%, 100% {\\r\\n    transform: scale(0.0);\\r\\n    -webkit-transform: scale(0.0);\\r\\n  } 40% {\\r\\n    transform: scale(1.0);\\r\\n    -webkit-transform: scale(1.0);\\r\\n  }\\r\\n}\"","module.exports = \"<div class=\\\"spinner\\\">\\r\\n  <div class=\\\"bounce1\\\"></div>\\r\\n  <div class=\\\"bounce2\\\"></div>\\r\\n  <div class=\\\"bounce3\\\"></div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.css']\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\\r\\n<div class=\\\"card-body\\\" style=\\\"background-color: #FFFFFF;\\\">\\r\\n\\t<!-- Row -->\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t   <div class=\\\"col-lg-12\\\">\\r\\n\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t   <form class=\\\"form-horizontal\\\" role=\\\"form\\\">\\r\\n\\t\\t\\t<div class=\\\"form-body\\\">\\r\\n\\t\\t\\t   <div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<!-- CARROUSEL IMAGES -->\\r\\n\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t<div id=\\\"carouselExampleFade\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-inner\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-item\\\" *ngFor=\\\"let img of book.images; let i=index;\\\" [ngClass]=\\\"{'active': i===0}\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img class=\\\"d-block img-carousel\\\" [src]=\\\"img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-prev\\\" href=\\\"#carouselExampleFade\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-next\\\" href=\\\"#carouselExampleFade\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- CARROUSEL IMAGES -->\\r\\n   \\r\\n\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t<!-- TITLE -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Título:</label>\\r\\n\\t\\t\\t\\t\\t   <div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book.title }} </p>\\r\\n\\t\\t\\t\\t\\t   </div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n\\t\\t\\t\\t   \\r\\n\\t\\t\\t\\t   <!-- AUTHOR -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Autor/a:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.author }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- TRANSACTION TYPE -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Tipo de transacción:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.transaction }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- PRICE -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\" *ngIf=\\\"book.transaction == 'Venta' || book.transaction == 'Both'\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Precio:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.price | thousands }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n\\r\\n\\t\\t\\t\\t   <!-- PUBLICATION DATE -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\" *ngIf=\\\"book.transaction == 'Venta' || book.transaction == 'Both'\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Fecha de publicación:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.date }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n\\r\\n\\t\\t\\t\\t   \\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Dueño:</label>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ book.user.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ book.user.last_name1 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ book.user.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t</p>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t   <!-- ROW DETALLES -->\\r\\n\\t\\t\\t   <h3 class=\\\"box-title\\\">Detalles</h3>\\r\\n\\t\\t\\t   <hr class=\\\"m-t-0 m-b-40\\\">\\r\\n\\t\\t\\t   <div class=\\\"row\\\">\\r\\n   \\r\\n\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t   <!-- TIPO DE ELEMENTO -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Elemento:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.type }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- GÉNERO -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Género:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.genres }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- EDITORIAL -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Editorial:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.editorial }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- IDIOMA -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Idioma:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.language }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n\\t\\t\\t\\t</div>\\r\\n   \\r\\n\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t   <!-- ORIGINAL -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Original:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.original }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- NÚMERO DE PÁGINAS -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Número de páginas:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.num_page }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n   \\r\\n\\t\\t\\t\\t   <!-- COMENTARIOS -->\\r\\n\\t\\t\\t\\t   <div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Comentario:</label>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t   <p class=\\\"form-control-static\\\"> {{ book.comment }} </p>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t   </div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t   </div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t   </form>\\r\\n\\t\\t</div>\\r\\n\\t   </div>\\r\\n\\t</div>\\r\\n\\t<!-- Row -->\\r\\n   </div>\\r\\n   \"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl } from \"@angular/forms\";\r\n\r\nimport { Books } from \"../../interface/books.interface\";\r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-one-book',\r\n  templateUrl: './one-book.component.html'\r\n})\r\nexport class OneBookComponent implements OnInit {\r\n\r\n\t@Input() book:Books;\r\n\r\n\teditForm:FormGroup;\r\n\r\n\tconstructor( \tprivate formBuilder: FormBuilder,\r\n\t\t\t\t\tprivate _dbService:DatabaseService, ) { \r\n\t\tlet user = JSON.parse( localStorage.getItem( \"user\" ) );\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t// TODO: Ver si eso servía o no fdjlksf\r\n\t\t// this.editForm = new FormGroup({\r\n\t\t// \ttitle: \t\t\tnew FormControl(this.book.title)\r\n\t\t// });\r\n\t}\r\n\r\n}\r\n","module.exports = \"* {\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\nbody {\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n#notfound {\\r\\n  position: relative;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n#notfound .notfound {\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  -webkit-transform: translate(-50%, -50%);\\r\\n          transform: translate(-50%, -50%);\\r\\n}\\r\\n\\r\\n.notfound {\\r\\n  max-width: 520px;\\r\\n  width: 100%;\\r\\n  line-height: 1.4;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.notfound .notfound-404 {\\r\\n  position: relative;\\r\\n  height: 240px;\\r\\n}\\r\\n\\r\\n.notfound .notfound-404 h1 {\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  -webkit-transform: translate(-50%, -50%);\\r\\n          transform: translate(-50%, -50%);\\r\\n  font-size: 252px;\\r\\n  font-weight: 900;\\r\\n  margin: 0px;\\r\\n  color: #262626;\\r\\n  text-transform: uppercase;\\r\\n  letter-spacing: -40px;\\r\\n  margin-left: -20px;\\r\\n}\\r\\n\\r\\n.notfound .notfound-404 h1>span {\\r\\n  text-shadow: -8px 0px 0px #fff;\\r\\n}\\r\\n\\r\\n.notfound .notfound-404 h3 {\\r\\n  position: relative;\\r\\n  font-size: 16px;\\r\\n  font-weight: 700;\\r\\n  text-transform: uppercase;\\r\\n  color: #262626;\\r\\n  margin: 0px;\\r\\n  letter-spacing: 3px;\\r\\n  padding-left: 6px;\\r\\n}\\r\\n\\r\\n.notfound h2 {\\r\\n    font-size: 20px;\\r\\n    font-weight: 400;\\r\\n    color: #000;\\r\\n    padding-top: 187px;\\r\\n}\\r\\n\\r\\n.background {\\r\\n  height: 158%;\\r\\n  width: 100%;\\r\\n  background-image: url('Pagenotfound.jpeg');\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center center;\\r\\n  background-size: fixed;\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 767px) {\\r\\n  .notfound .notfound-404 {\\r\\n    height: 200px;\\r\\n  }\\r\\n  .notfound .notfound-404 h1 {\\r\\n    font-size: 200px;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 480px) {\\r\\n  .notfound .notfound-404 {\\r\\n    height: 162px;\\r\\n  }\\r\\n  .notfound .notfound-404 h1 {\\r\\n    font-size: 162px;\\r\\n    height: 150px;\\r\\n    line-height: 162px;\\r\\n  }\\r\\n  .notfound h2 {\\r\\n    font-size: 16px;\\r\\n  }\\r\\n}\\r\\n\"","module.exports = \"<div id=\\\"notfound\\\">\\n  <div class=\\\"notfound\\\">\\n    <div class=\\\"notfound-404\\\">\\n      <h3>Oops! Página no encontrada</h3>\\n      <!-- <h1><span>4</span><span>0</span><span>4</span></h1> -->\\n      <div class=\\\"background\\\"></div>\\n    </div>\\n    <h2>Lo sentimos, pero no hemos podido encontrar la página solicitada</h2>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-pagenotfound',\n  templateUrl: './pagenotfound.component.html',\n  styleUrls: ['./pagenotfound.component.css']\n})\nexport class PagenotfoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"container\\\" style=\\\"background-color: #ffffff;\\\">\\r\\n\\t<h1 style=\\\"padding-top:30px;\\\">Agregar libro</h1>\\r\\n\\t<form class=\\\"form-material m-t-40\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"saveBook()\\\" novalidate=\\\"novalidate\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<!-- Inicio col 1 -->\\r\\n\\t\\t\\t<div class=\\\"col-6\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label>Título del texto</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" formControlName=\\\"title\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: Harry Potter\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label>Autor del texto</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" formControlName=\\\"author\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: J. K. Rowling\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label>Editorial del texto</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" formControlName=\\\"editorial\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: Salamandra\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t<label>Tipo de elemento</label>\\r\\n\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"type\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Libro\\\">Libro</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Cómic\\\">Cómic</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Lectura especializada\\\">Lectura especializada</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Literatura infantil\\\">Literatura infantil</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Otro\\\">Otro</option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<!-- TODO: Dejar esto más bonito -->\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<input id=\\\"file\\\" type=\\\"file\\\" style=\\\"padding-top: 25px;\\\" (change)=\\\"uploadFile($event)\\\" multiple>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- Fin col 1  -->\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t<!-- Inicio col 2  -->\\r\\n\\t\\t\\t<div class=\\\"col-6\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t<label>Tipo de transacción</label>\\r\\n\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"transaction\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Intercambio\\\">Intercambio</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Venta\\\">Venta</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Ambos\\\">Ambos</option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" *ngIf=\\\"form.value.transaction === 'Venta'\\\">\\r\\n\\t\\t\\t\\t\\t<label>Precio</label>\\r\\n\\t\\t\\t\\t\\t<input \\tformControlName=\\\"price\\\" onlynumber=\\\"true\\\" minlength=\\\"3\\\" maxlength=\\\"6\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 5000\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" *ngIf=\\\"form.value.transaction === 'Ambos'\\\">\\r\\n\\t\\t\\t\\t\\t<label>Precio</label>\\r\\n\\t\\t\\t\\t\\t<input \\tformControlName=\\\"price\\\" onlynumber=\\\"true\\\" minlength=\\\"3\\\" maxlength=\\\"6\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 5000\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t<label>Idioma</label>\\r\\n\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"language\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Español\\\">Español</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Inglés\\\">Inglés</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Otro\\\">Otro</option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\" \\r\\n\\t\\t\\t\\t\\t name=\\\"original\\\">\\r\\n\\t\\t\\t\\t\\t<label>Texto original</label>\\r\\n\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" formControlName=\\\"original\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"Sí\\\">Sí</option>\\r\\n\\t\\t\\t\\t\\t\\t<option value=\\\"No\\\">No</option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label>Cantidad de páginas</label>\\r\\n\\t\\t\\t\\t\\t<input \\tformControlName=\\\"num_page\\\" onlynumber=\\\"true\\\" minlength=\\\"2\\\" maxlength=\\\"5\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 324\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label>Comentario</label>\\r\\n\\t\\t\\t\\t\\t<textarea class=\\\"form-control border-input-custom\\\" formControlName=\\\"comment\\\" rows=\\\"2\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Ej.: El libro se encuentra en buen estado, leído solo una vez.\\\">\\r\\n\\t\\t\\t\\t\\t</textarea>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- Fin col 2  -->\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t<label>Categoría a la que pertenece</label>\\r\\n\\t\\t\\t<!-- FIXME: Revisar po jjj -->\\r\\n\\t\\t\\t<div class=\\\"ms-container\\\" id=\\\"ms-pre-selected-options\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"ms-selectable\\\">\\r\\n\\t\\t\\t\\t\\t<select class=\\\"ms-list contenedor\\\" multiple='multiple'>\\r\\n\\t\\t\\t\\t\\t\\t<option [value]='c' class=\\\"ms-elem-selectable\\\" *ngFor=\\\"let c of categories; let i = index;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"addCategory(i)\\\"> {{ c }} </option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"ms-selection\\\">\\r\\n\\t\\t\\t\\t\\t<select class=\\\"ms-list contenedor\\\" multiple='multiple' formControlName=\\\"genres\\\" style=\\\"margin-left: 35px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option [value]='sc' class=\\\"ms-elem-selection\\\" *ngFor=\\\"let sc of selected_categories; let i = index;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"removeCategory(i)\\\"> {{ sc }} </option>\\r\\n\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t</div>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t\\r\\n\\t\\t<div class=\\\"row justify-content-md-center\\\">\\r\\n\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-outline-info\\\">Guardar</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</form>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\t\\t\\t\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n// INTERFACE\r\nimport { Books } from \"../../interface/books.interface\";\r\n\r\n// SERVICE\r\nimport { DatabaseService } from \"../../services/database.service\";\r\nimport { DateService } from 'src/app/services/date.service';\r\n\r\n// ANGULARFIRE2\r\nimport * as firebase from 'firebase';\r\n\r\n// SWEET ALERT\r\nimport swal from 'sweetalert';\r\n\r\n@Component({\r\n  selector: 'app-add-book',\r\n  templateUrl: './add-book.component.html'\r\n})\r\nexport class AddBookComponent implements OnInit {\r\n\r\n\tform:FormGroup;\r\n\turlImgs:any[]; // Almacena las rutas de imagenes, para ser guardadas en Storage\r\n\tuid:string; // uid usuario actual\r\n\ttoday:any;\r\n\tcategories:Array<string>=[\"Antiguedades y Coleccionables\", \"Arquitectura\", \"Arte\", \"Artes Escénicas\", \"Biografía y Autobiografía\", \"Casa y Hogar\", \"Ciencia\", \"Ciencias Políticas\", \"Ciencias Sociales\", \"Cocina\", \"Comida y Bebestibles\", \"Colecciones Literarias\", \"Cómics y Novelas Gráficas\", \"Computación e Internet\", \"Crímenes\", \"Crítica Literaria\", \"Cuerpo\", \"Mente y Espíritu\", \"Deportes y Recreación\", \"Drama\", \"Educación\", \"Estudio de Lenguas Extranjeras\", \"Ensayos Académicos\", \"Familia y Relaciones\", \"Ficción\", \"Ficción Adolescente\", \"Ficción para Niños\", \"Filosofía\", \"Fotografía\", \"Historia y Geografía\", \"Humor\", \"Jardinería\", \"Juegos\", \"Lectura escolar\", \"Lengua y Literatura\", \"Leyes\", \"Manualidades y Hobbies\", \"Mascotas y Animales\", \"Matemáticas\", \"Medicina\", \"Música\", \"Naturaleza y Aire libre\", \"Negocios y Economía\", \"Niños y Jóvenes\", \"Papelería\", \"Poesía\", \"Psicología\", \"Religión y Espiritualidad\", \"Salud y Bienestar\", \"Tecnología\", \"Transporte\", \"Viajes\"];\r\n\tselected_categories:string[] = [];\r\n\r\n\tconstructor( \tprivate _dbService:DatabaseService,\r\n\t\t\t\t\t\t\t\tprivate _date:DateService,\r\n\t\t\t\t\t\t\t\tpublic router:Router ) { \t\t\t\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.form = new FormGroup({\r\n\t\t\ttitle: \t\t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tauthor: \t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\teditorial: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\ttype: \t\t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tgenres: \t\t\tnew FormControl(this.selected_categories),\r\n\t\t\ttransaction: \tnew FormControl(undefined, Validators.required),\r\n\t\t\tprice: \t\t\t\tnew FormControl(undefined),\r\n\t\t\tlanguage: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\toriginal: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tnum_page: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tcomment: \t\t\tnew FormControl(undefined),\r\n\t\t\timages: \t\t\tnew FormControl(undefined),\r\n\t\t\tdate: \t\t\t\tnew FormControl(this._date.actual_date())\r\n\t\t});\r\n\r\n\t\tthis.uid = JSON.parse(localStorage.getItem('user')).uid;\r\n\t}\r\n\r\n\t// Guarda un libro nuevo en la DB\r\n\tsaveBook(){\r\n\t\tif( this.form.invalid ){\r\n\t\t\tswal(\r\n\t\t\t\t'Debe completar el formulario', \r\n\t\t\t\t'Debe ingresar todos los campos de este formulario',\r\n\t\t\t\t'warning'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// Carga las imagenes en el formulario para luego subirlas\r\n\t\tthis.form.patchValue({\r\n\t\t\timages: this.urlImgs\r\n\t\t});\r\n\r\n\t\tlet book:Books = this.form.value;  // Guarda el formulario para validar\r\n\r\n\t\t// Agrega la referencia al usuario propietario del libro\r\n\t\tlet user = JSON.parse( localStorage.getItem( \"user\" ));\r\n\t\tbook.user = this._dbService.afs.collection('users').doc(user.uid).ref;\r\n\r\n\t\t// Convierte el id de Firebase en uid + fechahora \r\n\t\tbook.id = user.uid + \"-\" + new Date().valueOf() ;\r\n\t\tbook.uid = user.uid;\r\n\r\n\t\t// Guarda el libro\r\n\t\tthis._dbService.addData('books', book)\r\n\t\t\t.then( () => {\r\n\t\t\t\tconsole.log(\"se guardó el libro\"); \r\n\t\t\t\tswal('Libro registrado con éxito', book.title, 'success');\r\n\t\t\t\tthis.router.navigate([ '/home' ]);\r\n\t\t\t})\r\n\t\t\t.catch( (err) => {\r\n\t\t\t\tconsole.log(\"error al guardar libros\", err) \r\n\t\t\t\tswal(\"Error\", \"No se ha podido guardar el nuevo libro\", \"warning\");\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Carga las imagenes al storage de Firebase\r\n\tuploadFile(event) {\r\n\t\tlet files = event.target.files;\r\n\t\tlet url = []; // Guarda las imagenes correctas para luego subirlas\r\n\t\tlet aux = false; // Sirve para que no se cargen imagenes si existe aunque sea una incorrecta\r\n\r\n\t\tfor( let i=0; i<files.length; i++ ){\r\n\t\t\tconst separatedFile = files[i].name.split('.');\r\n\t\t\tconst extension = separatedFile[separatedFile.length - 1];\r\n\t\t\t\t\r\n\t\t\t// Tipos de archivo válidos para las imagenes\r\n\t\t\tconst typeValid = ['jpg', 'jpeg', 'png'];\r\n\r\n\t\t\t// si las imagenes no son validas se termina el proceso\r\n\t\t\tif( typeValid.indexOf( extension ) <= -1 ){\r\n\t\t\t\tswal(\r\n\t\t\t\t\t'Error al ingresar imagen',\r\n\t\t\t\t\t'Extensiones válidas (png, jpg, jpeg), vuelva a intentarlo',\r\n\t\t\t\t\t'error'\r\n\t\t\t\t);\r\n\t\t\t\taux = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif( !aux ){\r\n\t\t\tconst storageRef = firebase.storage().ref();\r\n\t\t\tlet upload = false;\r\n\t\t\tfor(let i=0; i<files.length; i++){\r\n\t\t\t\t\r\n\t\t\t\tlet filePath = `${this.uid}-${new Date().valueOf()}`; \r\n\t\t\t\tconsole.log(filePath)\r\n\t\t\t\t\t \r\n\t\t\t\tconst uploadTask:firebase.storage.UploadTask = \r\n\t\t\t\t\tstorageRef.child(`images/${ filePath }`)\r\n\t\t\t\t\t.put(files[i])\r\n\r\n\t\t\t\tuploadTask.on('state_changed',\r\n\t\t\t\t\t() => {}, // Manejo de carga\r\n\t\t\t\t\t(error) => { // Manejo de errores\r\n\t\t\t\t\t\tconsole.log('Error al cargar imagen' ,error);\r\n\t\t\t\t  \tswal('Error al cargar imagenes', 'Por favor, vueva a intentarlo', 'error');\r\n\t\t\t\t\t}, \r\n\t\t\t\t\t() => { // Éxito\r\n\t\t\t\t\t   uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n\t\t\t\t\t\t\turl.push( downloadURL );\r\n\t\t\t\t\t\t\tif(i === files.length-1) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Imagenes cargadas\");\r\n\t\t\t\t\t\t\t\tswal('Éxito', 'Imagenes cargadas con exito', 'success');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t  \t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.urlImgs = url;\r\n\t\t}\r\n\t}\r\n\r\n\t// Agrega una categoría al cuadro de categorías del libro\r\n\taddCategory(index:number){\r\n\t\tthis.selected_categories.push(this.categories[index]);\r\n\t\tthis.categories.splice(index, 1);\t\t\t\t\r\n\t\t// TODO: Ordenar por index\r\n\t}\r\n\r\n\t// Remueve una categoría del cuadro de categorías del libro\r\n\tremoveCategory(index:number){\r\n\t\tthis.categories.push(this.selected_categories[index]);\r\n\t\tthis.selected_categories.splice(index, 1);\r\n\t\tconsole.log(this.selected_categories);\t\t\t\t\r\n\t}\r\n}\r\n\r\n\t\t\t\t","module.exports = \"/*\\r\\nTemplate Name: Admin pro Admin\\r\\nAuthor: Wrappixel\\r\\nEmail: niravjoshi87@gmail.com\\r\\nFile: scss\\r\\n*/\\r\\n/*\\r\\nTemplate Name: Admin Pro Admin\\r\\nAuthor: Wrappixel\\r\\nEmail: niravjoshi87@gmail.com\\r\\nFile: scss\\r\\n*/\\r\\n/*Theme Colors*/\\r\\n/*bootstrap Color*/\\r\\n/*Light colors*/\\r\\n/*Normal Color*/\\r\\n/*Extra Variable*/\\r\\n/*******************\\r\\nchat application Page\\r\\n******************/\\r\\n.chat-main-box {\\r\\n  position: relative;\\r\\n  overflow: hidden; }\\r\\n.chat-main-box .chat-left-aside {\\r\\n    position: relative;\\r\\n    width: 250px;\\r\\n    float: left;\\r\\n    z-index: 9;\\r\\n    top: 0px;\\r\\n    border-right: 1px solid rgba(120, 130, 140, 0.13); }\\r\\n.chat-main-box .chat-left-aside .open-panel {\\r\\n      display: none;\\r\\n      cursor: pointer;\\r\\n      position: absolute;\\r\\n      left: -webkit-calc(100% - 1px);\\r\\n      top: 50%;\\r\\n      z-index: 100;\\r\\n      background-color: #fff;\\r\\n      box-shadow: 1px 0 3px rgba(0, 0, 0, 0.2);\\r\\n      border-radius: 0 100px 100px 0;\\r\\n      line-height: 1;\\r\\n      padding: 15px 8px 15px 4px; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner {\\r\\n      position: relative; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .chatonline {\\r\\n        position: relative;\\r\\n        height: 90%; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .form-control {\\r\\n        height: 60px;\\r\\n        padding: 15px;\\r\\n        background-image: linear-gradient(#398bf7, #398bf7), linear-gradient(rgba(120, 130, 140, 0.13), rgba(120, 130, 140, 0.13)); }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .style-none {\\r\\n        padding: 0px; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .style-none li {\\r\\n          list-style: none;\\r\\n          overflow: hidden; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .style-none li a {\\r\\n            padding: 20px; }\\r\\n.chat-main-box .chat-left-aside .chat-left-inner .style-none li a:hover, .chat-main-box .chat-left-aside .chat-left-inner .style-none li a.active {\\r\\n              background: #ebf3f5; }\\r\\n.chat-main-box .chat-right-aside {\\r\\n    width: calc(100% - 250px);\\r\\n    float: left; }\\r\\n.chat-main-box .chat-right-aside .chat-rbox {\\r\\n      height: auto;\\r\\n      position: relative; }\\r\\n.chat-main-box .chat-right-aside .chat-list {\\r\\n      max-height: none;\\r\\n      height: 100%;\\r\\n      padding-top: 40px; }\\r\\n.chat-main-box .chat-right-aside .chat-list .chat-text {\\r\\n        border-radius: 6px; }\\r\\n.chat-main-box .chat-right-aside .send-chat-box {\\r\\n      position: relative; }\\r\\n.chat-main-box .chat-right-aside .send-chat-box .form-control {\\r\\n        border: none;\\r\\n        border-top: 1px solid rgba(120, 130, 140, 0.13);\\r\\n        resize: none;\\r\\n        height: 80px;\\r\\n        padding-right: 180px; }\\r\\n.chat-main-box .chat-right-aside .send-chat-box .form-control:focus {\\r\\n          border-color: rgba(120, 130, 140, 0.13); }\\r\\n.chat-main-box .chat-right-aside .send-chat-box .custom-send {\\r\\n        position: absolute;\\r\\n        right: 20px;\\r\\n        bottom: 10px; }\\r\\n.chat-main-box .chat-right-aside .send-chat-box .custom-send .cst-icon {\\r\\n          color: #67757c;\\r\\n          margin-right: 10px; }\\r\\n\"","module.exports = \"\\r\\n<!-- ============================================================== -->\\r\\n<!-- Start Page Content -->\\r\\n<!-- ============================================================== -->\\r\\n<div class=\\\"row\\\">\\r\\n\\t<div class=\\\"col-12\\\">\\r\\n\\t\\t<div class=\\\"card m-b-0\\\">\\r\\n\\t\\t\\t<div class=\\\"chat-main-box\\\">\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Left panel\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<!-- TODO: Hacer que el panel izq se vea mas grande jiji -->\\r\\n\\t\\t\\t\\t<div class=\\\"chat-left-aside\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"open-panel\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"ti-angle-right\\\"></i>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"chat-left-inner\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"form-material\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"form-control p-20\\\" type=\\\"text\\\" placeholder=\\\"Buscar Chat\\\">\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<ul class=\\\"chatonline style-none\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<li *ngFor=\\\"let c of chats | async\\\" (click)=\\\"showMessages(c.key)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- INTERESADO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"c !== undefined && uid !== c.uid_interested.uid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"c.uid_interested.img\\\" alt=\\\"user-img\\\" class=\\\"img-circle img-circle-30\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.uid_interested.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.uid_interested.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.uid_interested.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">{{ c.book.title | titlecase }}</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- DUENO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"c !== undefined && uid !== c.user_owner\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"c.book.user.img\\\" alt=\\\"user-img\\\" class=\\\"img-circle img-circle-30\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.book.user.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.book.user.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ c.book.user.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">{{ c.book.title | titlecase }}</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End left panel\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Right panel\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<div class=\\\"chat-right-aside\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"chat-main-header\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"p-20 b-b\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"box-title\\\">Chat Message</h3>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"chat-rbox\\\">\\r\\n\\t\\t\\t\\t\\t<ul class=\\\"chat-list p-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!--chat Row -->\\r\\n\\t\\t\\t\\t\\t\\t<div *ngFor=\\\"let text of message.text; let i = index;\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- DERECHA USUARIO ACTIVO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"reverse\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- DUEÑO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"message.user_owner === uid && text[message.user_owner] !== undefined\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-time\\\">{{ message.date }}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-content\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-inverse\\\">{{ text[message.user_owner] }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"message.book.user.img\\\" class=\\\"img-circle-40\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- INTERESADO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"message.uid_interested.uid === uid && text[message.uid_interested.uid] !== undefined\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-time\\\">{{ message.date }}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-content\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-inverse\\\" *ngIf=\\\"i === 0; else answer;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ text[message.uid_interested.uid] }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tLibro: {{  message.book.title }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tTransacción: {{ message.transaction }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"message.transaction === 'Venta'\\\">Valor: {{ message.price }} <br></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tLugar y horario: {{ message.pref }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #answer> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{ text[message.uid_interested.uid] }} </div>\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"message.uid_interested.img\\\" class=\\\"img-circle-40\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- IZQUIERDA -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- INTERESADO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"message.uid_interested.uid !== uid && text[message.uid_interested.uid] !== undefined\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"message.uid_interested.img\\\" class=\\\"img-circle-40\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-content\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.uid_interested.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-info\\\" *ngIf=\\\"i === 0; else answer;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ text[message.uid_interested.uid] }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tLibro: {{  message.book.title }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tTransacción: {{ message.transaction }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"message.transaction === 'Venta'\\\">Valor: {{ message.price }} <br></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tLugar y horario: {{ message.pref }} <br>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #answer> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-info\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{ text[message.uid_interested.uid] }} </div>\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-time\\\">{{ message.date }}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- DUEÑO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"message.user_owner !== uid && text[message.user_owner] !== undefined\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"message.book.user.img\\\" class=\\\"img-circle-40\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-content\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.name | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.last_name1 | titlecase }} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ message.book.user.last_name2 | titlecase }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"box bg-light-info\\\">{{ text[message.user_owner] }} </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"chat-time\\\">{{ message.date }}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"card-body b-t\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<textarea [(ngModel)]=\\\"text_answer\\\" name=\\\"text_answer\\\" placeholder=\\\"Escribe tu respuesta aquí...\\\" class=\\\"form-control b-0\\\"></textarea>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-4 text-right\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-info btn-circle btn-lg\\\" (click)=\\\"sendMessage(message, text_answer)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-paper-plane-o\\\"></i> \\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End right panel\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t -->\\r\\n\\t\\t\\t\\t<!-- =============================================================== -->\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n<div>\\r\\n<!-- ============================================================== -->\\r\\n<!-- End PAge Content -->\\r\\n<!-- ============================================================== -->\"","import { Component } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// ANGULARFIRE2\r\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\r\n\r\n// SERVICES\r\nimport { DateService } from '../../services/date.service';\r\nimport { DatabaseService } from 'src/app/services/database.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-chats',\r\n  templateUrl: './chats.component.html',\r\n  styleUrls: ['./chats.component.css']\r\n})\r\nexport class ChatsComponent {\r\n  \r\n  // Referencias a las colecciones\r\n  private chatsCollection: AngularFirestoreCollection<any>;\r\n  private selected_chat: AngularFirestoreDocument<any>;\r\n\r\n  // Observables a las colecciones\r\n  chats: Observable<any[]>;\r\n  message:any = {\r\n    uid_interested: ''\r\n  };\r\n  \r\n  uid:string;\r\n  actual_user:string;\r\n  text_answer:any;\r\n  key:string;\r\n  \r\n  \r\n  constructor(  private _dbService:DatabaseService,\r\n                private afs:AngularFirestore,\r\n                private _date:DateService,\r\n                private route: ActivatedRoute ) { \r\n\r\n    this.route.params\r\n    .subscribe( params => {\r\n      this.uid = JSON.parse( localStorage.getItem('user') ).uid;\r\n      this.actual_user = JSON.parse( localStorage.getItem('user') );\r\n      \r\n      // Si es que viene un mensaje en la ruta lo abrimos\r\n      if( params['key'] !== undefined && params['key'] !== null ){\r\n        this.showMessages(params['key']);\r\n      }\r\n\r\n      this.chatsCollection = afs.collection('messages-transaction')\r\n      this.chats = this.chatsCollection.snapshotChanges()\r\n        .pipe(\r\n          map( actions => actions.map( a => {\r\n            const data = a.payload.doc.data();\r\n            const key = a.payload.doc.id;\r\n            \r\n            // Filtro los datos para obtener solo en los que aparezco\r\n            if( data.user_owner === this.uid || data.uid_interested.uid === this.uid ){\r\n              return { key, ...data };\r\n            }\r\n          }))\r\n        );\r\n    });\r\n  }\r\n\r\n  showMessages( key:string ){\r\n    this.key = key; // Para que se pueda ver desde el otro método\r\n\r\n    this.selected_chat = this.afs.collection<any>('messages-transaction').doc(key);\r\n    this.selected_chat\r\n      .valueChanges()\r\n      .subscribe( data => {\r\n        this.message = data;\r\n         // Actualiza que el mensaje está leído\r\n        this.message.status = true;\r\n        this._dbService.updateData('messages-transaction', key, this.message);\r\n      });\r\n  }\r\n\r\n\r\n  // Envía el mensaje desde el usuario actual hacia la DB\r\n\tsendMessage(message:any, text_answer:any){\r\n    if( this.text_answer === undefined || this.text_answer === null || this.text_answer === \"\" ){\r\n\t\t\tswal( 'Debe ingresar un texto para responder', '', 'warning');\r\n\t\t\treturn;\r\n\t\t}\r\n    let answer = {\r\n      [this.uid]: text_answer,\r\n\t\t\tdate:\t\t\t\tthis._date.actual_date()\r\n    }\r\n\r\n    this.message.text.push(answer);\r\n    this.message.status = false;\r\n    this._dbService.updateData('messages-transaction', this.key, this.message);\r\n    this.text_answer = undefined;\r\n      \r\n    }\r\n\r\n}\r\n","module.exports = \"<!-- ============================================================================== -->\\r\\n<!-- Options view bar\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n<div class=\\\"container mb-3\\\">\\r\\n\\t<div class=\\\"row text-center\\\">\\r\\n\\t\\t<div class=\\\"col-12\\\">\\r\\n\\t\\t\\t<div class=\\\"btn-group mr-2\\\" role=\\\"group\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': view_bar === 'all'}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"view_bar = 'all'\\\">\\r\\n\\t\\t\\t    \\tTodos\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': view_bar === 'exchange'}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"view_bar = 'exchange'\\\">\\r\\n\\t\\t\\t    \\tIntercambio\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': view_bar === 'sales'}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"view_bar = 'sales'\\\">\\r\\n\\t\\t\\t    \\tVentas\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': view_bar === 'both'}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"view_bar = 'both'\\\">\\r\\n\\t\\t\\t\\t\\tAmbos\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ============================================================================== -->\\r\\n<!-- End options view bar\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n\\r\\n<!-- ============================================================================== -->\\r\\n<!-- Cards according to view bar\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n<div [ngSwitch]=\\\"view_bar\\\">\\r\\n\\t<div *ngSwitchCase=\\\"'all'\\\">\\r\\n\\t\\t<app-card-book type=\\\"all\\\" [booksHome]=\\\"books\\\"></app-card-book>\\r\\n\\t</div>\\r\\n\\t<div *ngSwitchCase=\\\"'exchange'\\\">\\r\\n\\t\\t<app-card-book type=\\\"Intercambio\\\" [booksHome]=\\\"books\\\"></app-card-book>\\r\\n\\t</div>\\r\\n\\t<div *ngSwitchCase=\\\"'sales'\\\">\\r\\n\\t\\t<app-card-book type=\\\"Venta\\\" [booksHome]=\\\"books\\\"></app-card-book>\\r\\n\\t</div>\\r\\n\\t<div *ngSwitchCase=\\\"'both'\\\">\\r\\n\\t\\t<app-card-book type=\\\"Ambos\\\" [booksHome]=\\\"books\\\"></app-card-book>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ============================================================================== -->\\r\\n<!-- End cards according to view bar\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ============================================================================== -->\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html'\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n\tview_bar:string = 'all';\r\n\tbooks:any[] = [];\r\n\r\n\tconstructor( private _dbService:DatabaseService ) {\r\n\t\tthis._dbService.getData('books')\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => {\r\n\t\t\t\tthis.books = [];\r\n\t\t\t\tthis.books = data;\r\n\t\t\t\r\n\t\t\t\t// Cambia la referencia del user por el objeto del usuario\r\n\t\t\t\tfor(let i=0; i<this.books.length; i++){\r\n\t\t\t\t\tthis._dbService.afs.doc(data[i].user)\r\n\t\t\t\t\t\t.valueChanges()\r\n\t\t\t\t\t\t.subscribe( resp => this.books[i].user = resp );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tngOnInit() {}\r\n}\r\n","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<!-- Column left: List of books\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<div class=\\\"col-4\\\">\\r\\n\\t\\t\\t<h3>Mis libros</h3>\\r\\n\\t\\t\\t<ul class=\\\"list-group\\\">\\r\\n\\t\\t\\t\\t<li class=\\\"list-group-item\\\" style=\\\"cursor: pointer;\\\" \\r\\n\\t\\t\\t\\t\\t*ngFor=\\\"let book of books\\\"\\r\\n\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': book.id === book_modal.id}\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"book_modal = book\\\">\\r\\n\\t\\t\\t\\t\\t{{ book.title | titlecase }}\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<!-- End column left: List of books\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<!-- Column right: Selected book details\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<div class=\\\"col-8\\\">\\r\\n\\t\\t\\t<div class=\\\"card-body\\\" style=\\\"background-color: #FFFFFF;\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-lg-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\" *ngIf=\\\"book_modal.title !== ''; else other\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<form class=\\\"form-horizontal\\\" role=\\\"form\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- ROW PRINCIPAL -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- CARROUSEL BOOK IMAGES -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div id=\\\"carouselExampleFade\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-inner\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"carousel-item\\\" *ngFor=\\\"let img of book_modal.images; let i=index;\\\" [ngClass]=\\\"{'active': i===0}\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img class=\\\"d-block img-carousel\\\" [src]=\\\"img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-prev\\\" href=\\\"#carouselExampleFade\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\\\"carousel-control-next\\\" href=\\\"#carouselExampleFade\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- CARROUSEL BOOK IMAGES -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TÍTULO LIBRO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Título:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.title | titlecase }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- AUTOR/A LIBRO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Autor/a:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.author | titlecase }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TIPO DE TRANSACCIÓN -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Tipo de transacción:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.transaction }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- PRECIO LIBRO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"book_modal.transaction === 'Venta' || book_modal.transaction === 'Ambos'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Precio:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> ${{ book_modal.price | thousands }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- ROW DETALLES -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"box-title\\\">Detalles</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<hr class=\\\"m-t-0 m-b-40\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TIPO DE ELEMENTO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Elemento:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.type }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- GÉNERO -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Género:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.genres }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- EDITORIAL -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Editorial:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.editorial | titlecase }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- IDIOMA -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Idioma:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.language }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- ORIGINAL -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Original:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.original }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- NÚMERO DE PÁGINAS -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Número de páginas:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.num_page }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- COMENTARIOS -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"control-label text-left col-md-6\\\">Comentario:</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"form-control-static\\\"> {{ book_modal.comment }} </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-actions\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row justify-content-md-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- BOTÓN EDITAR -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 text-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-outline-info model_img img-responsive\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-toggle=\\\"modal\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-target=\\\".bs-example-modal-lg\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-pencil\\\"></i> Editar</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- BOTÓN ELIMINAR -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 text-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-danger img-responsive\\\" type=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"deleteBook()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-trash-o\\\"></i> Eliminar</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\"> </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<ng-template #other>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tDebe seleccionar un libro\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t<!-- End column right: Selected book details\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================================================== -->\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- Modal edit/delete book\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\\r\\n<div id=\\\"openModal\\\" class=\\\"modal fade bs-example-modal-lg\\\">\\r\\n\\t<div class=\\\"modal-dialog modal-lg\\\">\\r\\n\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t<h4 class=\\\"modal-title\\\" id=\\\"myLargeModalLabel\\\"> {{ book_modal.title | titlecase }} </h4>\\r\\n\\t\\t\\t\\t<!-- Botón para cerrar el modal -->\\r\\n\\t\\t\\t\\t<button _ngcontent-c0=\\\"\\\" aria-label=\\\"Close\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" type=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t<span _ngcontent-c0=\\\"\\\" aria-hidden=\\\"true\\\">×</span>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t<form class=\\\"form-material m-t-40\\\" >\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!-- Inicio col 1 -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Título</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"book_modal.title\\\" name=\\\"title\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: Harry Potter\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Autor/a</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"book_modal.author\\\" name=\\\"author\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: J. K. Rowling\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Editorial</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"book_modal.editorial\\\" name=\\\"editorial\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: Salamandra\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Tipo de transacción</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" [(ngModel)]=\\\"book_modal.transaction\\\"\\tname=\\\"transaction\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Intercambio\\\">Intercambio</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Venta\\\">Venta</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Ambos\\\">Ambos</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"book_modal.transaction === 'Venta' || book_modal.transaction === 'Ambos'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Precio</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"book_modal.price\\\" name=\\\"price\\\" onlynumber=\\\"true\\\" minlength=\\\"3\\\" maxlength=\\\"6\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 5000\\\" required>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Tipo de elemento</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" [(ngModel)]=\\\"book_modal.type\\\" name=\\\"type\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Libro\\\">Libro</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Cómic\\\">Cómic</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Lectura especializada\\\">Lectura especializada</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Literatura infantil\\\">Literatura infantil</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Otro\\\">Otro</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<!-- Inicio col 2 -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Género al que pertenece</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" [(ngModel)]=\\\"book_modal.genres\\\" name=\\\"genres\\\" multiple>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"1\\\">1</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"2\\\">2</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Lectura especializada\\\">Lectura especializada</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Literatura infantil\\\">Literatura infantil</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Otro\\\">Otro</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Idioma</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" [(ngModel)]=\\\"book_modal.language\\\" name=\\\"language\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Español\\\">Español</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Inglés\\\">Inglés</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Otro\\\">Otro</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group border-input-custom\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Texto original</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"form-control\\\" [(ngModel)]=\\\"book_modal.original\\\" name=\\\"original\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Sí\\\">Sí</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"No\\\">No</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Cantidad de páginas</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input \\t[(ngModel)]=\\\"book_modal.num_page\\\"\\tname=\\\"num_pages\\\" onlynumber=\\\"true\\\" minlength=\\\"2\\\" maxlength=\\\"5\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control form-control-line border-input-custom\\\" placeholder=\\\"Ej.: 324\\\"\\trequired>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Comentario</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"form-control border-input-custom\\\" [(ngModel)]=\\\"book_modal.comment\\\" name=\\\"comment\\\" rows=\\\"2\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Ej.: El libro se encuentra en buen estado, leído solo una vez.\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</textarea>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<!-- TODO: Agregar el editar las categorías -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-outline-info\\\" (click)=\\\"updateBook()\\\">Editar</button>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger waves-effect text-left\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- End modal edit/delete book\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\"","import { Component, OnInit } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// SERVICE\r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n// SWEET ALERT\r\nimport swal from 'sweetalert';\r\n\r\n@Component({\r\n  selector: 'app-library',\r\n  templateUrl: './library.component.html'\r\n})\r\nexport class LibraryComponent implements OnInit {\r\n\r\n\tbooks: any[] = [];\r\n\tbook_modal: any;\r\n\r\n\tconstructor( private _dbService:DatabaseService ) { \r\n\t\tlet user = JSON.parse( localStorage.getItem( \"user\" ) );\r\n\r\n\t\tthis._dbService.getDataQuery( \"books\", \"uid\", \"==\", user.uid)\r\n\t\t\t.snapshotChanges()\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(actions => actions.map(a => {\r\n\t\t\t\t\tconst data = a.payload.doc.data();\r\n\t\t\t\t\tconst key = a.payload.doc.id;\r\n\t\t\t\t\treturn { key, ...data };\r\n\t\t\t\t}))\r\n\t\t\t).subscribe( data => {\r\n\t\t\t\tthis.books = [];\r\n\t\t\t\tthis.books = data;\r\n\t\t\t});\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.resetBook();\r\n\t}\r\n\r\n\t// Actualiza el libro en la DB\r\n\tupdateBook(){\r\n\t\tthis._dbService.updateData( \"books\", this.book_modal.key, this.book_modal )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Cambios guardados', 'Sus cambios han sidos guardados con éxito', 'success');\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al editar', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Elimina un libro de la DB\r\n\tdeleteBook(){\r\n\t\tthis._dbService.deleteData( \"books\", this.book_modal.key )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Libro eliminado', 'El libro seleccionado ha sido eliminado', 'success');\r\n\t\t\t\tthis.resetBook();\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al eliminar', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Deja los campos de libro en blanco al borrar uno o entrar en Mi Biblioteca\r\n\tresetBook(){\r\n\t\tthis.book_modal = {\r\n\t\t\tauthor: \t\t'', \r\n\t\t\ttitle: \t\t\t'', \r\n\t\t\teditorial: \t\t'', \r\n\t\t\ttype: \t\t\t'', \r\n\t\t\tgenres: \t\t[], \r\n\t\t\tlanguage: \t\t'', \r\n\t\t\tnum_page: \t\t'',\r\n\t\t\toriginal: \t\tfalse, \r\n\t\t\ttransaction: \t'', \t\r\n\t\t\tuser: \t\t\t'', \r\n\t\t\tid: \t\t\t'', \r\n\t\t\tcomment: \t\t'', \r\n\t\t\tprice: \t\t\t0, \r\n\t\t\timages: \t\t[]\r\n\t\t};\r\n\t}\r\n\r\n}\r\n","module.exports = \"\\r\\n<div id=\\\"main-wrapper\\\">\\r\\n\\t<app-header></app-header>\\r\\n\\t<app-sidebar></app-sidebar>\\r\\n\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- Page wrapper  -->\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<div class=\\\"page-wrapper\\\">\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<!-- Container fluid  -->\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<div class=\\\"container-fluid\\\">\\r\\n\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<!-- Start Page Content -->\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<router-outlet></router-outlet>\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<!-- End Page Content -->\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<!-- END Container fluid  -->\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t</div>\\r\\n\\t<!-- ============================================================== -->\\r\\n\\t<!-- END Page wrapper  -->\\r\\n\\t<!-- ============================================================== -->\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<!-- Barra de opción de vistas -->\\r\\n<!-- <div class=\\\"container\\\">\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-4\\\"></div>\\r\\n\\t\\t<div class=\\\"col-4\\\">\\r\\n\\t\\t\\t<div class=\\\"btn-group btn-group-toggle\\\">\\r\\n\\t\\t\\t\\t<label class=\\\"btn btn-secondary active\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"\\\">Todos</a>\\r\\n\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t<label class=\\\"btn btn-secondary\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"\\\">Intercambio</a>\\r\\n\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t<label class=\\\"btn btn-secondary\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"\\\">Ventas</a>\\r\\n\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t<label class=\\\"btn btn-secondary\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"\\\">Ambos</a>\\r\\n\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"col-4\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n -->\\r\\n\\r\\n\\r\\n<!-- <app-card-book></app-card-book> -->\\r\\n\\r\\n<!-- <app-add-book></app-add-book> -->\\r\\n\\r\\n\\r\\n<!-- [heroe] es el nombre de la propiedad y \\\"heroe\\\" es el nombre de la variable local -->\\r\\n<!-- <app-books-card [book]=\\\"heroe\\\" [index]=\\\"i\\\" *ngFor=\\\"let book of books; let i = index\\\"></app-books-card> -->\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pages',\r\n  templateUrl: './pages.component.html'\r\n})\r\nexport class PagesComponent implements OnInit {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// MODULES\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n// PIPES\r\nimport { ThousandsPipe } from '../pipes/thousands.pipe';\r\n\r\n// SERVICES\r\nimport { DatabaseService } from \"./../services/database.service\";\r\nimport { DateService } from \"./../services/date.service\";\r\n\r\n// ROUTES\r\nimport { PAGES_ROUTES } from './pages.routes';\r\n\r\n// ANGULARFIRE2\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\r\nimport { AngularFireStorageModule } from 'angularfire2/storage';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\n\r\n// ENVIRONMENT\r\nimport { environment } from '../../environments/environment';\r\n\r\n// PAGES-COMPONENTS\r\nimport { PagesComponent } from './pages.component';\r\nimport { AddBookComponent } from './add-book/add-book.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { LibraryComponent } from './library/library.component';\r\nimport { ChatsComponent } from './chats/chats.component';\r\nimport { SearchComponent } from './search/search.component';\r\n\r\n// COMPONENTS\r\nimport { CardBookComponent } from '../components/card-book/card-book.component';\r\nimport { OneBookComponent } from '../components/one-book/one-book.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddBookComponent,\r\n    ProfileComponent,\r\n    HomeComponent,\r\n    LibraryComponent,\r\n    OneBookComponent,\r\n    PagesComponent,\r\n    CardBookComponent,\r\n    SearchComponent,\r\n    ThousandsPipe,\r\n    ChatsComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    PAGES_ROUTES,\r\n    SharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFirestoreModule,\r\n    AngularFireStorageModule,\r\n    AngularFireAuthModule\r\n  ],\r\n  providers: [\r\n    DatabaseService,\r\n    DateService\r\n  ],\r\n  exports:[\r\n    ThousandsPipe\r\n  ],\r\n  bootstrap: [PagesComponent]\r\n})\r\nexport class PagesModule { }","import {  RouterModule, Routes } from '@angular/router';\r\n\r\n// PAGES\r\nimport { PagesComponent  } from './pages.component';\r\nimport { AddBookComponent  } from './add-book/add-book.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { LibraryComponent } from './library/library.component';\r\nimport { SearchComponent } from './search/search.component';\r\n\r\n// GUARD\r\nimport { LoginGuardGuard } from '../services/guards/login-guard.guard';\r\nimport { ChatsComponent } from './chats/chats.component';\r\n\r\nconst PAGES_ROUTE: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: PagesComponent,\r\n\t\tcanActivate: [ LoginGuardGuard ],\r\n      \tchildren: [\r\n\t      \t{ path: 'home', component: HomeComponent },\r\n\t\t\t\t\t{ path: 'addBook', component: AddBookComponent },\r\n\t\t\t\t\t{ path: 'profile', component: ProfileComponent },\r\n\t\t\t\t\t{ path: 'library', component: LibraryComponent },\r\n\t\t\t\t\t{ path: 'search/:input', component: SearchComponent },\r\n\t\t\t\t\t{ path: 'messages', component: ChatsComponent },\r\n\t\t\t\t\t{ path: 'messages/:key', component: ChatsComponent },\r\n\t\t\t\t\t{ path: '', pathMatch: 'full', redirectTo: 'home' }\r\n\t\t] \r\n   }\r\n];\r\n\r\nexport const PAGES_ROUTES = RouterModule.forChild(PAGES_ROUTE);","module.exports = \"<div class=\\\"container\\\">\\r\\n\\t<div class=\\\"row card\\\">\\r\\n\\t\\t<!-- ================================================================================================== -->\\r\\n\\t\\t<!-- Profile options\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ================================================================================================== -->\\r\\n\\t\\t<ul class=\\\"nav nav-tabs customtab\\\" role=\\\"tablist\\\">\\r\\n\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t<a \\tclass=\\\"nav-link\\\" data-toggle=\\\"tab\\\" role=\\\"tab\\\" aria-expanded=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': profile_options === 'my_profile'}\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"profile_options = 'my_profile'\\\">\\r\\n\\t\\t\\t\\t\\t<span class=\\\"hidden-xs-down\\\">Mi perfil</span>\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t<a \\tclass=\\\"nav-link\\\" data-toggle=\\\"tab\\\" role=\\\"tab\\\" aria-expanded=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': profile_options === 'edit_profile'}\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"profile_options = 'edit_profile'\\\">\\r\\n\\t\\t\\t\\t\\t<span class=\\\"hidden-xs-down\\\">Editar perfil</span>\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t<a \\tclass=\\\"nav-link\\\" data-toggle=\\\"tab\\\" role=\\\"tab\\\" aria-expanded=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': profile_options === 'preference_profile'}\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"profile_options = 'preference_profile'\\\">\\r\\n\\t\\t\\t\\t\\t<span class=\\\"hidden-xs-down\\\">Preferencias de entrega</span>\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t<a \\tclass=\\\"nav-link\\\" data-toggle=\\\"tab\\\" role=\\\"tab\\\" aria-expanded=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t[ngClass]=\\\"{'active': profile_options === 'delete_profile'}\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"profile_options = 'delete_profile'\\\">\\r\\n\\t\\t\\t\\t\\t<span class=\\\"hidden-xs-down\\\">Eliminar cuenta</span>\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t<!-- ================================================================================================== -->\\r\\n\\t\\t<!-- End profile options\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ================================================================================================== -->\\r\\n\\r\\n\\r\\n\\t\\t<div [ngSwitch]=\\\"profile_options\\\">\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- Show profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<div *ngSwitchCase=\\\"'my_profile'\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-12\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-body row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\" align=\\\"center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"profile.img\\\" class=\\\"img-circle\\\" width=\\\"300\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ profile.name | titlecase }} {{ profile.last_name1 | titlecase }} {{ profile.last_name2 | titlecase }} </h4>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6 class=\\\"card-subtitle\\\">Accoubts Manager Amix corp</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row text-center justify-content-md-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" class=\\\"link\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-book\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<font class=\\\"font-medium\\\"> {{ count_book }}</font>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Correo electrónico</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ profile.email }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted p-t-30 db\\\">Teléfono de contacto</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ profile.phone }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- TODO: Revisar que esté aparezcan todas las cat. Copiar en modal de cardbook -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted\\\">Categorías favoritas:</small>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6>{{ profile.categories }}</h6>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-divider\\\"></div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<small class=\\\"text-muted p-t-30 db\\\">Redes sociales</small><br/>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-facebook\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-twitter\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-secondary\\\"><i class=\\\"fa fa-youtube\\\"></i></button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- End show profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- Edit profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<div *ngSwitchCase=\\\"'edit_profile'\\\">\\r\\n\\t\\t\\t\\t<div style=\\\"background-color: #FFFFFF;\\\" class=\\\"tab-pane active\\\" role=\\\"tabpanel\\\" aria-expanded=\\\"true\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t<form class=\\\"form-horizontal form-material\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"col-md-12\\\">Nombres</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"profile.name\\\" name=\\\"name\\\" class=\\\"form-control form-control-line\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"col-md-12\\\">Apellido Paterno</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"profile.last_name1\\\" name=\\\"last_name1\\\" class=\\\"form-control form-control-line\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"col-md-12\\\">Apellido Materno</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"profile.last_name2\\\" name=\\\"last_name2\\\" class=\\\"form-control form-control-line\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"example-email\\\" class=\\\"col-md-12\\\">Correo electrónico</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"email\\\" [(ngModel)]=\\\"profile.email\\\" name=\\\"email\\\" class=\\\"form-control form-control-line\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"col-md-12\\\">Teléfono de contacto</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" [(ngModel)]=\\\"profile.phone\\\" name=\\\"phone\\\" class=\\\"form-control form-control-line\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"file\\\" (change)=\\\"uploadFile($event)\\\" id=\\\"file\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-outline-info btn-block\\\" (click)=\\\"updateProfile()\\\">Editar</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- End edit profile\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- User preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<div *ngSwitchCase=\\\"'preference_profile'\\\">\\r\\n\\t\\t\\t\\t<div style=\\\"background-color: #FFFFFF;\\\" class=\\\"tab-pane active\\\" id=\\\"settings\\\" role=\\\"tabpanel\\\" aria-expanded=\\\"true\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<table class=\\\"table color-table info-table\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Estación de metro</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Día</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Horario</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"text-nowrap\\\">Acción</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let p of preferences; let i = index;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.subway_station }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.day }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td> {{ p.hour }} </td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- TODO: Falta hacer que esto funcione -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a data-toggle=\\\"modal\\\" data-target=\\\"#editPreferences\\\" (click)=\\\"preferences_modal = p\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-pencil text-inverse m-r-10\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a data-toggle=\\\"modal\\\" data-target=\\\"#deletePreferences\\\" (click)=\\\"deletePreference(i)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-close text-danger\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-outline-info\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-toggle=\\\"modal\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-target=\\\"#addPreferences\\\">Agregar nueva preferencia</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- End user preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- Delete user account\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<div *ngSwitchCase=\\\"'delete_profile'\\\">\\r\\n\\t\\t\\t\\t<div style=\\\"background-color: #FFFFFF;\\\" class=\\\"tab-pane active\\\" id=\\\"settings\\\" role=\\\"tabpanel\\\" aria-expanded=\\\"true\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t\\t\\t<p>Estás por eliminar tu cuenta de BOOKscalo. Tus datos, tu perfil público y las publicaciones que realizaste ya no podrán ser vistas por ti, ni por ningún otro usuario.\\r\\n\\t\\t\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t\\t\\t<p>Además debes considerar:</p>\\r\\n\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li type=\\\"circle\\\">Si solo quieres cambiar tus datos, no es necesario que desactives tu cuenta; modifícala en \\\"Editar perfil\\\".</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li type=\\\"circle\\\">Si solo quieres eliminar o editar una o todas tus publicaciones, no es necesario que desactives tu cuenta; elimínalos o edítalos en \\\"Mi Biblioteca\\\".</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li type=\\\"circle\\\">No podrás crear otra cuenta con el mismo correo con que iniciaste esta cuenta.</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn waves-effect waves-light btn-block btn-danger\\\" (click)=\\\"deleteAccount()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-warning\\\"></i> Eliminar cuenta</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t\\t<!-- End delete user account\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================================== -->\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- Modal add preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t                                      \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\\r\\n<div id=\\\"addPreferences\\\" class=\\\"modal fade bs-example-modal-lg\\\">\\r\\n\\t<div class=\\\"modal-dialog modal-lg\\\">\\r\\n\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t<h4 class=\\\"modal-title\\\" id=\\\"myLargeModalLabel\\\"> Agregar nueva preferencia de transacción </h4>\\r\\n\\t\\t\\t\\t<button _ngcontent-c0=\\\"\\\" aria-label=\\\"Close\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" type=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t<span _ngcontent-c0=\\\"\\\" aria-hidden=\\\"true\\\">×</span>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t<form class=\\\"form-material m-t-40\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"addPreference()\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!-- Inicio col 1 -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label>Estación de metro</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<select formControlName=\\\"subway_station\\\" id=\\\"subway_station\\\" class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 1\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"República\\\">República</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Héroes\\\">Los Héroes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"La Moneda\\\">La Moneda</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad de Chile\\\">Universidad de Chile</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Lucía\\\">Santa Lucía</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad Católica\\\">Universidad Católica</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Salvador\\\">Salvador</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Manuel Montt\\\">Manuel Montt</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Pedro de Valdivia\\\">Pedro de Valdivia</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Leones\\\">Los Leones</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Tobalaba\\\">Tobalaba</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Quinta Normal\\\">Quinta Normal</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Cumming\\\">Cumming</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Ana\\\">Santa Ana</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Plaza de Armas\\\">Plaza de Armas</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Bellas Artes\\\">Bellas Artes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Parque Bustamante\\\">Parque Bustamante</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Isabel\\\">Santa Isabel</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label>Tipo de elemento</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<select formControlName=\\\"day\\\" id=\\\"day\\\" class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Lunes\\\">Lunes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Martes\\\">Martes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Miércoles\\\">Miércoles</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Jueves\\\">Jueves</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Viernes\\\">Viernes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Sábado\\\">Sábado</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Domingo\\\">Domingo</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label>Hora</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"hour\\\" class=\\\"form-control\\\" type=\\\"time\\\" value=\\\"12:00\\\" id=\\\"hour\\\">\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-outline-info\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addPreference()\\\">Agregar</button>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger waves-effect text-left\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- End modal add preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\\r\\n\\r\\n\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- Modal edit preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\\r\\n<div id=\\\"editPreferences\\\" class=\\\"modal fade bs-example-modal-lg\\\">\\r\\n\\t\\t<div class=\\\"modal-dialog modal-lg\\\">\\r\\n\\t\\t\\t<div class=\\\"modal-content\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t\\t\\t\\t<h4 class=\\\"modal-title\\\" id=\\\"myLargeModalLabel\\\"> Editar preferencia de transacción </h4>\\r\\n\\t\\t\\t\\t\\t<button _ngcontent-c0=\\\"\\\" aria-label=\\\"Close\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" type=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span _ngcontent-c0=\\\"\\\" aria-hidden=\\\"true\\\">×</span>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t\\t\\t\\t<form class=\\\"form-material m-t-40\\\" >\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- Inicio col 1 -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Estación de metro</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select name=\\\"subway_station\\\" [(ngModel)]=\\\"preferences_modal.subway_station\\\" class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 1\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"República\\\">República</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Héroes\\\">Los Héroes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"La Moneda\\\">La Moneda</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad de Chile\\\">Universidad de Chile</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Lucía\\\">Santa Lucía</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Universidad Católica\\\">Universidad Católica</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Salvador\\\">Salvador</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Manuel Montt\\\">Manuel Montt</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Pedro de Valdivia\\\">Pedro de Valdivia</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Los Leones\\\">Los Leones</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Tobalaba\\\">Tobalaba</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<optgroup label=\\\"Línea 5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Quinta Normal\\\">Quinta Normal</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Cumming\\\">Cumming</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Ana\\\">Santa Ana</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Plaza de Armas\\\">Plaza de Armas</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Bellas Artes\\\">Bellas Artes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Baquedano\\\">Baquedano</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Parque Bustamante\\\">Parque Bustamante</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Santa Isabel\\\">Santa Isabel</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</optgroup>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Tipo de elemento</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<select name=\\\"day\\\" [(ngModel)]=\\\"preferences_modal.day\\\"  class=\\\"form-control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Lunes\\\">Lunes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Martes\\\">Martes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Miércoles\\\">Miércoles</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Jueves\\\">Jueves</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Viernes\\\">Viernes</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Sábado\\\">Sábado</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"Domingo\\\">Domingo</option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>Hora</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"email\\\" name=\\\"hour\\\" [(ngModel)]=\\\"preferences_modal.hour\\\" class=\\\"form-control form-control-line\\\" type=\\\"time\\\" value=\\\"12:00\\\" id=\\\"hour\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-outline-info\\\" (click)=\\\"updateProfile()\\\">Editar</button>\\r\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger waves-effect text-left\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n<!-- ================================================================================================== -->\\r\\n<!-- End modal edit preferences\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n<!-- ================================================================================================== -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// SERVICE\r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n// ANGULARFIRE2\r\nimport * as firebase from 'firebase';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html'\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n\t\r\n\tform:FormGroup;\r\n\tprofile_options:string = 'my_profile'; // Controla las opciones en Mi Perfil\r\n\tprofile:any;  \r\n\tuser_profile: any;\r\n\tuid:string; // uid usuario actual\r\n\tcount_book:any; // Contador de libros del usuario actual\r\n\tpreferences_modal:any;\r\n\tpreferences:any; // Todas las preferencais \r\n\tp_selected:any; // Preferencias seleccionadas\r\n\turlImgs:string; // Guarda la ruta de la imagen para guardar en DB\r\n\r\n\r\n  constructor( private _dbService:DatabaseService ) {\r\n\t\tthis.preferences_modal = {\r\n\t\t\thour: '',\r\n\t\t\tday: '',\r\n\t\t\tsubway_station: ''\r\n\t\t};\r\n\r\n\t\tlet actual_user = JSON.parse( localStorage.getItem( \"user\" ) );\r\n\t\t\t\r\n\t\tthis._dbService.getDataQuery( \"users\", \"uid\", \"==\", actual_user.uid )\r\n\t\t\t.snapshotChanges()\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(actions => actions.map(a => {\r\n\t\t\t\t\tconst data = a.payload.doc.data();\r\n\t\t\t\t\tconst key = a.payload.doc.id;\r\n\t\t\t\t\treturn { key, ...data };\r\n\t\t\t\t}))\r\n\t\t\t).subscribe( data => {\r\n\t\t\t\tthis.profile = data[0];\r\n\t\t\t\tthis.preferences =  this.profile.preferences;\r\n\t\t\t});\r\n\r\n\t\tthis._dbService.getDataQuery( \"books\", \"uid\", \"==\", actual_user.uid )\r\n\t\t\t.valueChanges()\r\n\t\t\t.subscribe( data => this.count_book = data.length );\r\n\t}\r\n\r\n  ngOnInit() {\r\n  \tthis.resetUser();\r\n\r\n\t\tthis.form = new FormGroup({\r\n\t\t\tsubway_station: new FormControl(undefined, Validators.required),\r\n\t\t\tday: \t\t\t\t\t\tnew FormControl(undefined, Validators.required),\r\n\t\t\thour: \t\t\t\t\tnew FormControl(undefined, Validators.required)\r\n\t\t});\r\n\r\n\t\tthis.uid = JSON.parse(localStorage.getItem('user')).uid;\r\n\t}\r\n\t\r\n\t// Actualiza los datos de perfil del usuario en la DB\r\n\tupdateProfile(){\r\n\t\tthis.profile.img = this.urlImgs;\r\n\r\n\t\tthis._dbService.updateData( \"users\", this.profile.key, this.profile )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Cambios guardados', 'Sus cambios han sidos guardados con éxito', 'success');\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al editar', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// TODO: Falta revisar si la nueva preferencia ya existe.\r\n\t// Agrega la nueva preferencia a la DB \r\n\taddPreference(){\r\n\t\tif ( this.form.invalid ) {\r\n\t\t\tswal(\r\n\t\t\t\t'Debe completar el formulario', \r\n\t\t\t\t'Debe ingresar todos los campos de este formulario',\r\n\t\t\t\t'warning'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet pref:any = this.form.value; // Asigna la nueva preferencia a la variable a actualizar\r\n\r\n\t\tif(this.profile.preferences === undefined ){\r\n\t\t\tthis.profile.preferences = [pref];\r\n\t\t}else {\r\n\t\t\tthis.profile.preferences.push(pref);\r\n\t\t}\r\n\r\n\t\tthis._dbService.updateData( \"users\", this.profile.key, this.profile )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Preferencia agregada', 'Su preferencia ha sido agregada con éxito', 'success');\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al agregar su preferencia', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n \r\n\t// Invalida la cuenta del usuario, no la borra, solo le cambia el estado\r\n\tdeleteAccount(){\r\n\t\tthis.profile.status = false;\r\n\t\t\r\n\r\n\t\tthis._dbService.updateData( \"users\", this.profile.key, this.profile )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Cuenta eliminada', 'Su cuenta ha sido eliminada con éxito', 'success');\r\n\t\t\t\t// TODO: Hacer que esto funcione\r\n\t\t\t\t// swal({\r\n\t\t\t\t// \ttitle: \"Está seguro que desea eliminar su cuenta?\",\r\n\t\t\t\t// \ttext: \"Si luego desea volver a restaurar su cuenta, debe enviar un correo a JavieraOrmeno.L@gmail.com\",\r\n\t\t\t\t// \ticon: \"warning\",\r\n\t\t\t\t// \tbuttons: true,\r\n\t\t\t\t// \tdangerMode: true,\r\n\t\t\t\t//   })\r\n\t\t\t\t//   .then((willDelete) => {\r\n\t\t\t\t// \tif (willDelete) {\r\n\t\t\t\t// \t  swal(\"Su cuenta ha sido eliminada con éxito\", {\r\n\t\t\t\t// \t\ticon: \"success\",\r\n\t\t\t\t// \t  });\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t  swal(\"Su cuenta sigue activa\");\r\n\t\t\t\t// \t}\r\n\t\t\t\t//   });\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al elminar su cuenta', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Elimina la preferencia seleccionada del usuario\r\n\tdeletePreference(index:number){\r\n\t\tthis.profile.preferences.splice(index, 1);\r\n\t\tthis._dbService.updateData( \"users\", this.profile.key, this.profile )\r\n\t\t\t.then( () => {\r\n\t\t\t\tswal('Preferencia eliminada', 'La preferencia seleccionada ha sido eliminada con éxito', 'success');\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al eliminar', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Carga las imagenes al storage de Firebase\r\n\tuploadFile(event) {\r\n\t\tlet file = event.target.files;\r\n\t\tlet url:string; // guarda las imagenes correctas para luego subirlas\r\n\t\tlet aux = false; // para que no se cargen imagenes si existe aunque sea 1 mala\r\n\r\n\t\tconst separatedFile = file[0].name.split('.');\r\n\t\tconst extension = separatedFile[separatedFile.length - 1];\r\n\t\t\t\t\r\n\t\tconst typeValid = ['jpg', 'jpeg', 'png'];\r\n\r\n\t\t// Valida las extensiones de las imagenes\r\n\t\tif( typeValid.indexOf( extension ) <= -1){\r\n\t\t\tswal(\r\n\t\t\t\t'Error al ingresar imagen',\r\n\t\t\t\t'Extensiones válidas (png, jpg, jpeg), vuelva a intentarlo',\r\n\t\t\t\t'error'\r\n\t\t\t);\r\n\t\t\taux = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( !aux ){\r\n\t\t\tconst storageRef = firebase.storage().ref();\r\n\t\t\tlet filePath = this.uid; \r\n\t\t\t\t\t \r\n\t\t\tconst uploadTask:firebase.storage.UploadTask = \r\n\t\t\tstorageRef.child(`profile_img/${ filePath }`)\r\n\t\t\t.put(file[0])\r\n\t\t\t\r\n\t\t\tuploadTask.on('state_changed', \r\n\t\t\t\t() => {}, // Manejo de carga\r\n\t\t\t\t(error) => { // Manejo de errores\r\n\t\t\t\t\tconsole.log('Error al cargar imagen' ,error);\r\n\t\t\t  \tswal('Error al cargar imagenes', 'Por favor, vueva a intentarlo', 'error');\r\n\t\t\t\t}, \r\n\t\t\t\t() => { // Éxito\r\n\t\t\t\t  uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n\t\t\t\t\turl = downloadURL;\r\n\t\t\t\t\tconsole.log(\"Imagenes cargadas\");\r\n\t\t\t\t\tswal('Éxito', 'Imagenes cargadas con exito', 'success');\r\n\t\t\t\t\tthis.urlImgs = url;\r\n\t\t  \t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t// Deja los campos de usuario en blanco\r\n\tresetUser(){\r\n\t\tthis.profile = {\r\n\t\t\tuid: \t\t\t\t\t'', \r\n\t\t\trut: \t\t\t\t\t'', \r\n\t\t\tname: \t\t\t\t'', \r\n\t\t\tlast_name1: \t'', \r\n\t\t\tlast_name2: \t'', \r\n\t\t\temail: \t\t\t\t[], \r\n\t\t\tphone: \t\t\t\t'', \r\n\t\t\tcategories:\t\t[], \r\n\t\t\tcommune: \t\t\t'',\r\n\t\t\tstatus:\t\t\t\ttrue,\r\n\t\t\timg: \t\t\t\t\t''\r\n\t\t};\r\n\t}\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"typeInput[0] !== 'sidebar'; else Sidebar\\\">\\r\\n  <div class=\\\"card col-12 col-lg-4\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <h4 class=\\\"card-title\\\">Libros</h4>\\r\\n      <ul class=\\\"list-unstyled\\\" *ngIf=\\\"books.length > 0; else noBooks;\\\">\\r\\n        <li class=\\\"media border p-1\\\" *ngFor=\\\"let book of books\\\">\\r\\n          <img class=\\\"d-flex mr-3\\\"\\r\\n               [src]=\\\"book.images[0]\\\"\\r\\n               width=\\\"60\\\">\\r\\n          <div class=\\\"media-body\\\">\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> {{ book.title }} </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\">{{ book.author }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\">{{ book.language }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\" *ngIf=\\\"book.transaction === 'Ambos'\\\"> Venta-Intercambio </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\" *ngIf=\\\"book.transaction !== 'Ambos'\\\"> {{ book.transaction }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2 text-success\\\" *ngIf=\\\"book.transaction === 'Ambos'\\\"> ${{ book.price }} </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2 text-success\\\" *ngIf=\\\"book.transaction === 'Venta'\\\"> ${{ book.price }} </h5>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n\\r\\n      <ng-template #noBooks>\\r\\n        <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n          No se encontraron coincidencias\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"card col-12 col-lg-4\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <h4 class=\\\"card-title\\\">Autores</h4>\\r\\n      <ul class=\\\"list-unstyled\\\" *ngIf=\\\"authors.length > 0; else noAuth;\\\">\\r\\n        <li class=\\\"media media border p-1\\\" *ngFor=\\\"let auth of authors\\\">\\r\\n          <img class=\\\"d-flex mr-3\\\"\\r\\n               [src]=\\\"auth.images[0]\\\"\\r\\n               width=\\\"60\\\">\\r\\n          <div class=\\\"media-body\\\">\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> {{ auth.author }} </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> {{ auth.title }} </h5>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n\\r\\n      <ng-template #noAuth>\\r\\n        <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n            No se encontraron coincidencias\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"card col-12 col-lg-4\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <h4 class=\\\"card-title\\\">Dueños</h4>\\r\\n      <ul class=\\\"list-unstyled\\\" *ngIf=\\\"owners.length > 0; else noOwner\\\">\\r\\n        <li class=\\\"media media border p-1\\\" *ngFor=\\\"let cat of sidebar\\\">\\r\\n          <img class=\\\"d-flex mr-3\\\"\\r\\n               [src]=\\\"cat.img\\\"\\r\\n               width=\\\"60\\\">\\r\\n        <div class=\\\"media-body\\\">\\r\\n            <h5 class=\\\"mt-0 mb-2\\\">{{ cat.name }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> {{ cat.last_name1 }} {{ cat.last_name2 }} </h5>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n\\r\\n      <ng-template #noOwner>\\r\\n        <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n          No se encontraron coincidencias\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<ng-template #Sidebar>\\r\\n  <div class=\\\"card col-12\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <h4 class=\\\"card-title\\\">Búsqueda por categoría: {{ typeInput[1] }}</h4>\\r\\n      <ul class=\\\"list-unstyled\\\" *ngIf=\\\"sidebar.length > 0; else noSidebar\\\">\\r\\n        <li class=\\\"media media border p-1\\\" *ngFor=\\\"let cat of sidebar\\\">\\r\\n          <img class=\\\"d-flex mr-3\\\"\\r\\n              [src]=\\\"cat.images[0]\\\"\\r\\n              width=\\\"60\\\">\\r\\n          <div class=\\\"media-body\\\">\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> {{ cat.title }} </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\">{{ cat.author }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\">{{ cat.language }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\" *ngIf=\\\"cat.transaction === 'Ambos'\\\"> Venta-Intercambio </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\" *ngIf=\\\"cat.transaction !== 'Ambos'\\\"> {{ cat.transaction }}</h5>\\r\\n            <h5 class=\\\"mt-0 mb-2 text-success\\\" *ngIf=\\\"cat.transaction === 'Ambos'\\\"> ${{ cat.price }} </h5>\\r\\n            <h5 class=\\\"mt-0 mb-2 text-success\\\" *ngIf=\\\"cat.transaction === 'Venta'\\\"> ${{ cat.price }} </h5>\\r\\n            <hr>\\r\\n            <h5 class=\\\"mt-0 mb-2\\\"> Otras categorías a las que pertenece </h5>\\r\\n            <h6 class=\\\"mt-0 mb-2\\\" *ngFor=\\\"let genres of cat.genres\\\"> {{ genres }} </h6>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n\\r\\n      <ng-template #noSidebar>\\r\\n        <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n          no se encontraron coincidencias\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n// SERVICES \r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n@Component({\r\n\tselector: 'app-search',\r\n\ttemplateUrl: './search.component.html'\r\n})\r\nexport class SearchComponent implements OnInit {\r\n\tbooks:any[] = [];\r\n\tauthors:any[] = [];\r\n\towners:any[] = [];\r\n\tsidebar:any[] = [];\r\n\ttypeInput:string[] = [];\r\n\r\n\tconstructor( private activatedRoute:ActivatedRoute,\r\n\t\t\t\t private _dbService: DatabaseService ) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.activatedRoute.params.subscribe( params => {\r\n\t\t\tconst input:string = params['input'];\r\n\t\t\tthis.typeInput = input.split('.');\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\tconsole.log(input);\r\n\t\t\t\tthis._dbService.getData('books')\r\n\t\t\t\t\t.valueChanges()\r\n\t\t\t\t\t.subscribe( resp => {\r\n\t\t\t\t\t\tif( this.typeInput[0] === 'sidebar' ) {\r\n\t\t\t\t\t\t\tthis.sidebar = this.searchSidebar(resp, this.typeInput[1]);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthis.books = this.searchBook(resp, input);\r\n\t\t\t\t\t\t\tthis.authors = this.searchAuthor(resp, input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\tthis._dbService.getData('users')\r\n\t\t\t\t\t.valueChanges()\r\n\t\t\t\t\t.subscribe( users => this.owners = this.searchOwner(users, input) );\r\n\t\t\t\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n\tsearchBook(books:any[], search:string): any[]{\r\n\t\tlet searchBook = [];\r\n\t\t\r\n\t\tfor( let book of books ){\r\n\t\t\tlet title = book.title.toLowerCase();\r\n\t\t\tif( title.indexOf(search.toLowerCase()) >= 0 ) {\r\n\t\t\t\tsearchBook.push(book);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn searchBook;\r\n\t}\r\n\r\n\tsearchAuthor(books:any[], search:string){\r\n\t\tlet searchAuthor = [];\r\n\t\t\r\n\t\tfor( let book of books ){\r\n\t\t\tlet author = book.author.toLowerCase();\r\n\t\t\tif( author.indexOf(search.toLowerCase()) >= 0 ) {\r\n\t\t\t\tsearchAuthor.push(book);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn searchAuthor;\r\n\t}\r\n\r\n\tsearchOwner(users:any[], search:string) {\r\n\t\tlet owners = [];\r\n\t\t\r\n\t\tfor( let user of users ){\t\r\n\t\t\tlet owner = user.name;\r\n\t\t\t\tif( owner.indexOf(search.toLowerCase()) >= 0 ) {\r\n\t\t\t\t\towners.push(user);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn owners;\r\n\t}\r\n\r\n\tsearchSidebar(books:any[], input:string) {\r\n\t\tlet searchCategories = [];\r\n\r\n\t\tfor( let book of books ) {\r\n\t\t  let categories = book.genres;\r\n\t\t  let flag = false; // con esto valido que se agregue solo 1 vez el mismo libro\r\n\t\t  \r\n\t\t  for( let category of categories ){\r\n\t\t    let cat = category.toLowerCase();\r\n\r\n\t\t    if( cat.indexOf(input.toLowerCase()) >= 0 && !flag ) {\r\n\t\t      flag = true;\r\n\t\t      searchCategories.push(book);\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\t\tconsole.log(searchCategories);\r\n\t\treturn searchCategories;\r\n\t}\r\n\t\t\r\n\t\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'thousands'\r\n})\r\n\r\nexport class ThousandsPipe implements PipeTransform {\r\n\r\n    public transform(value: any) {\r\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");;\r\n    }\r\n}","module.exports = \"<section id=\\\"wrapper\\\">\\r\\n\\t<div class=\\\"login-register\\\" style=\\\"background-image:url(../../assets/images/background/book-2.jpg);\\\">\\r\\n\\t\\t<div class=\\\"login-box card\\\">\\r\\n\\t\\t  <div class=\\\"card-body\\\">\\r\\n\\r\\n\\t\\t  \\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t<!-- Login\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t<form class=\\\"form-horizontal form-material\\\" \\r\\n\\t\\t\\t\\t[formGroup]=\\\"form\\\" \\r\\n\\t\\t\\t\\t(ngSubmit)=\\\"loginUser()\\\" \\r\\n\\t\\t\\t\\tnovalidate=\\\"novalidate\\\" \\r\\n\\t\\t\\t\\taction=\\\"index.html\\\">    \\r\\n\\r\\n\\t\\t\\t\\t<h3 class=\\\"box-title m-b-20\\\">Sign In</h3>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input  formControlName=\\\"email\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"text\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Correo electrónico\\\"> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t  \\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t  <input \\tformControlName=\\\"password\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"password\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Password\\\"> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t  \\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-info pull-left p-t-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input \\tformControlName=\\\"rememberMe\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"checkbox-signup\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"checkbox\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"filled-in chk-col-light-blue\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"checkbox-signup\\\"> Recuérdame </label>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div> \\r\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" id=\\\"to-recover\\\" class=\\\"text-dark pull-right\\\" (click)=\\\"forgotPassword()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-lock m-r-5\\\"></i> Olvidó su contraseña? \\r\\n\\t\\t\\t\\t\\t\\t\\t</a> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group text-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 p-b-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-block btn-lg btn-info btn-rounded\\\" type=\\\"submit\\\">Ingresar</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<!-- Login with Google button -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-12 col-md-12 m-t-10 text-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"social\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"loginGoogle()\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"btnGoogle\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-googleplus\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-toggle=\\\"tooltip\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Iniciar sesión con Google\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i aria-hidden=\\\"true\\\" class=\\\"fa fa-google-plus\\\"></i> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t  </div>\\r\\n\\t\\t\\t\\t\\t  \\r\\n\\t\\t\\t\\t\\t<!-- Register me -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group m-b-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12 text-center\\\">No tienes una cuenta?\\r\\n\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/register']\\\" class=\\\"text-info m-l-5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<b>Registrarme</b>\\r\\n\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t<!-- End Login\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t  \\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t<!-- Recovery password\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t<form class=\\\"form-horizontal\\\" id=\\\"recoverform\\\" action=\\\"index.html\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3>Recuperar contraseña</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-muted\\\">Ingresa tu correo electrónico y te enviaremos las instrucciones</p>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t  \\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"form-control\\\" type=\\\"text\\\" required=\\\"\\\" placeholder=\\\"Email\\\"> </div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group text-center m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-primary btn-lg btn-block text-uppercase waves-effect waves-light\\\" type=\\\"submit\\\">Reset</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t<!-- End recovery password\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</section>\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormGroup, FormControl, Validators, FormControlName } from '@angular/forms';\r\n\r\n// SERVICES\r\nimport { DatabaseService } from '../services/database.service';\r\n\r\n// ANGULARFIRE2\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { auth } from 'firebase';\r\n\r\n// PLUGINS\r\nimport swal from 'sweetalert';\r\nimport * as firebase from 'firebase';\r\n\r\n@Component({\r\n\tselector: 'app-login',\r\n\ttemplateUrl: './login.component.html',\r\n\tstyleUrls: ['./register.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n\tform:FormGroup;  \r\n\tpublic user:any = {};\r\n\r\n\tconstructor( \tprivate afAuth: AngularFireAuth, \r\n\t\t\t\t\tprivate router:Router,\r\n\t\t\t\t\tprivate _db:DatabaseService ) { \r\n\r\n\t\tthis.afAuth.authState.subscribe( user => {\r\n\t\t\tconsole.log( 'Estado del usuario', user );\r\n\t\t\tif( !user ){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.user.name = user.displayName;\r\n\t\t\tthis.user.uid \t= user.uid;\r\n\t\t\tthis.user.email \t= user.email;\r\n\t\t});\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.form = new FormGroup({\r\n\t\t\temail: \t\t\t\tnew FormControl(localStorage.getItem('email') || undefined, [Validators.required, Validators.email]),\r\n\t\t\tpassword: \t\tnew FormControl(undefined, [Validators.required,Validators.minLength(6)]),\r\n\t\t\trememberMe: \tnew FormControl(JSON.parse(localStorage.getItem('session')).rememberMe)\r\n\t\t});\r\n\t}\r\n\r\n\tloginGoogle() {\t\t\r\n\t\tthis.afAuth.auth.signInWithPopup( new auth.GoogleAuthProvider() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t})\r\n\t\t\t.catch( e => console.log('error', e));\r\n\t}\r\n\t\r\n\tloginUser(){\r\n\t\tif( this.form.valid ){\r\n\t\t\tthis.afAuth.auth.signInWithEmailAndPassword(this.form.value['email'], this.form.value['password'])\r\n\t\t\t\t.then( (resp) => {\r\n\t\t\t\t\tconst USER = resp.user;\r\n\r\n\t\t\t\t\tthis._db.getDataQuery('users', 'uid', '==', USER.uid)\r\n\t\t\t\t\t\t.valueChanges()\r\n\t\t\t\t\t\t.subscribe( resp => {\r\n\t\t\t\t\t\t\tif (!resp[0].status){\r\n\t\t\t\t\t\t\t\tthis.afAuth.auth.signOut();\r\n\t\t\t\t\t\t\t\tswal('Su cuenta no se encuentra activa', 'Si desea activar su cuenta comunicarse con la administradora al siguiente email: JavieraOrmeno.L@gmail.com', 'warning');\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlet userStorage = {\r\n\t\t\t\t\t\t\t\t\tuid: \t\t\t\t\tUSER.uid,\r\n\t\t\t\t\t\t\t\t\temail: \t\t\t\tUSER.email,\r\n\t\t\t\t\t\t\t\t\tname: \t\t\t\tresp[0].name,\r\n\t\t\t\t\t\t\t\t\tlast_name1:\t\tresp[0].last_name1,\r\n\t\t\t\t\t\t\t\t\tlast_name2: \tresp[0].last_name2,\r\n\t\t\t\t\t\t\t\t\trole: \t\t\t\tresp[0].role,\r\n\t\t\t\t\t\t\t\t\timg: \t\t\t\t\tresp[0].img\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\r\n\t\t\t\t\t\t\t\tif( this.form.value['rememberMe'] ){\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('email', USER.email);\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('email');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(userStorage));\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('session', JSON.stringify({\r\n\t\t\t\t\t\t\t\t\trememberMe: this.form.value['rememberMe'],\r\n\t\t\t\t\t\t\t\t\tsession: true\r\n\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t// Redirige a dashboard o home según el rol del usuario\r\n\t\t\t\t\t\t\t\tif ( userStorage.role == 'admin' ){\r\n\t\t\t\t\t\t\t\t\tthis.router.navigate(['/admin']);\r\n\t\t\t\t\t\t\t\t}else if ( userStorage.role == 'normal' ){\r\n\t\t\t\t\t\t\t\t\tthis.router.navigate(['/home']);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch( () => console.log('error') )\r\n\t\t}\r\n\t}\r\n\r\n\t// Envía un correo desde Firebase para restaurar la contraseña\r\n\tforgotPassword(){\r\n\t\tlet auth = firebase.auth();\r\n\r\n\t\tauth.sendPasswordResetEmail(this.form.value['email'])\r\n\t\t\t.then(() => {\r\n\t\t\t\tswal('Correo enviado', 'Se ha enviado un correo para restaurar la contraseña', 'success');\r\n\t\t\t})\r\n\t\t\t.catch( () => {\r\n\t\t\t\tswal('Error al enviar correo', 'Por favor, vuelva a intentarlo', 'error');\r\n\t\t\t});\r\n\t}\r\n}\r\n","module.exports = \"/*\\r\\nTemplate Name: Admin pro Admin\\r\\nAuthor: Wrappixel\\r\\nEmail: niravjoshi87@gmail.com\\r\\nFile: scss\\r\\n*/\\r\\n/*\\r\\nTemplate Name: Admin Pro Admin\\r\\nAuthor: Wrappixel\\r\\nEmail: niravjoshi87@gmail.com\\r\\nFile: scss\\r\\n*/\\r\\n/*Theme Colors*/\\r\\n/*bootstrap Color*/\\r\\n/*Light colors*/\\r\\n/*Normal Color*/\\r\\n/*Extra Variable*/\\r\\n/*******************\\r\\nLogin register and recover password Page\\r\\n******************/\\r\\n.login-register {\\r\\n  background-size: cover;\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center center;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  padding: 10% 0;\\r\\n  position: fixed; }\\r\\n.login-box {\\r\\n  width: 400px;\\r\\n  margin: 0 auto; }\\r\\n.login-box .footer {\\r\\n    width: 100%;\\r\\n    left: 0px;\\r\\n    right: 0px; }\\r\\n.login-box .social {\\r\\n    display: block;\\r\\n    margin-bottom: 30px; }\\r\\n#recoverform {\\r\\n  display: none; }\\r\\n.login-sidebar {\\r\\n  padding: 0px;\\r\\n  margin-top: 0px; }\\r\\n.login-sidebar .login-box {\\r\\n    right: 0px;\\r\\n    position: absolute;\\r\\n    height: 100%; }\\r\\n.contenedor {\\r\\n  max-width: 220px !important;\\r\\n  min-width: 220px !important;\\r\\n}\\r\\n.ms-container {\\r\\n  width: 100%;\\r\\n}\"","module.exports = \"<section id=\\\"wrapper\\\">\\r\\n\\t<div class=\\\"login-register\\\" [ngStyle]=\\\"{'background-image':getBackground(register_pages)}\\\" >\\r\\n\\t\\t<div class=\\\"login-box card\\\">\\r\\n\\t\\t\\t<div class=\\\"card-body\\\" >\\r\\n\\t\\t\\t\\t<form class=\\\"form-horizontal form-material\\\" novalidate=\\\"novalidate\\\" action=\\\"index.html\\\"\\r\\n\\t\\t\\t\\t\\t\\t[formGroup]=\\\"form\\\" (ngSubmit)=\\\"saveUser()\\\" >\\r\\n\\r\\n\\t\\t\\t\\t\\t<div [ngSwitch]=\\\"register_pages\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- PAGE 1\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t                      \\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<div *ngSwitchCase=\\\"'page_1'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"box-title m-t-40 m-b-0\\\">Datos de perfil</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<small>Crea tu cuenta para ingresar</small>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"name\\\" class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Nombre\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['name'].errors?.required\\\"><p class=\\\"text-danger\\\">El nombre es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['name'].errors?.pattern\\\"><p class=\\\"text-danger\\\">El nombre ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-t-10 row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"last_name1\\\" class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Apellido paterno\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['last_name1'].errors?.required\\\"><p class=\\\"text-danger\\\">El apellido es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['last_name1'].errors?.pattern\\\"><p class=\\\"text-danger\\\">El apellido ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"last_name2\\\" class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Apellido materno\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['last_name1'].errors?.required\\\"><p class=\\\"text-danger\\\">El apellido es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['last_name1'].errors?.pattern\\\"><p class=\\\"text-danger\\\">El apellido ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"rut\\\" class=\\\"form-control\\\"\\ttype=\\\"text\\\" placeholder=\\\"RUT\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['rut'].errors?.required\\\"><p class=\\\"text-danger\\\">El RUT es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['rut'].errors?.pattern\\\"><p class=\\\"text-danger\\\">El RUT ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"phone\\\" class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Teléfono opcional\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['phone'].errors?.required\\\"><p class=\\\"text-danger\\\">El teléfono es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['phone'].errors?.pattern\\\"><p class=\\\"text-danger\\\">El teléfono ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group text-center m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"register_pages='page_2'\\\" class=\\\"btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light\\\">Continuar\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-b-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12 \\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-info\\\" style=\\\"margin-right: 80px;\\\" [routerLink]=\\\"['/login']\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-arrow-left\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-center\\\" style=\\\"display: contents;\\\">Ya tienes una cuenta?\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/login']\\\" class=\\\"text-info m-l-5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>Ingresar</b>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- PAGE 2\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t                                      \\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<div *ngSwitchCase=\\\"'page_2'\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"box-title m-t-40 m-b-0\\\">Categorías de interés</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ms-container\\\" id=\\\"ms-pre-selected-options\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ms-selectable\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"ms-list contenedor\\\" multiple='multiple' formControlName=\\\"categories\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option [value]='c' class=\\\"ms-elem-selectable\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngFor=\\\"let c of categories; let i = index;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"addCategory(i)\\\"> {{ c }} </option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ms-selection\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<select class=\\\"ms-list contenedor\\\" multiple='multiple' formControlName=\\\"categories\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option [value]='sc' class=\\\"ms-elem-selection\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngFor=\\\"let sc of selected_categories; let i = index;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"removeCategory(i)\\\"> {{ sc }} </option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group text-center m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"register_pages='page_3'\\\" class=\\\"btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light\\\">Continuar</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-b-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12 \\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-info\\\" style=\\\"margin-right: 80px;\\\" (click)=\\\"register_pages='page_1'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-arrow-left\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-center\\\" style=\\\"display: contents;\\\">Ya tienes una cuenta?\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/login']\\\" class=\\\"text-info m-l-5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>Ingresar</b>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- PAGE 3\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t\\t\\t<!-- ================================================================================== -->\\r\\n\\t\\t\\t\\t\\t\\t<div *ngSwitchCase=\\\"'page_3'\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\\"box-title m-t-40 m-b-0\\\">Datos de la cuenta</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"email\\\" class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Correo electrónico\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['email'].errors?.required\\\"><p class=\\\"text-danger\\\">El email es requerido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"form.controls['email'].errors?.email\\\"><p class=\\\"text-danger\\\">El email ingresado no es válido</p></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"password\\\" class=\\\"form-control\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input formControlName=\\\"password2\\\" class=\\\"form-control\\\" type=\\\"password\\\" placeholder=\\\"Confirme su contraseña\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" *ngIf=\\\"form['errors']?.areEquals && !form.pristine\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-danger\\\">\\tLas contraseñas deben ser iguales </p>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t \\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"checkbox checkbox-primary p-t-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t \\t<input \\tformControlName=\\\"conditions\\\" id=\\\"checkbox-signup\\\" type=\\\"checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"checkbox-signup\\\"> Acepto los\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\">Términos y condiciones</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group text-center m-t-20\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light\\\" type=\\\"submit\\\">Registrarme</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group m-b-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12 \\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-circle btn-info\\\" style=\\\"margin-right: 80px;\\\" (click)=\\\"register_pages='page_2'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-arrow-left\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-center\\\" style=\\\"display: contents;\\\">Ya tienes una cuenta?\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/login']\\\" class=\\\"text-info m-l-5\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>Ingresar</b>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</section>\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators, FormControlName } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n// INTERFACE\r\nimport { Users } from \"../interface/books.interface\";\r\n\r\n// SERVICES\r\nimport { DatabaseService } from \"../services/database.service\";\r\nimport { DateService } from '../services/date.service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\n// Sweet Alert\r\nimport swal from 'sweetalert';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n\tform:FormGroup;\r\n\tregister_pages:string = \"page_1\"; //Muestra la primera página del registro por defecto\r\n\tcategories:Array<string>=[\"Antiguedades y Coleccionables\", \"Arquitectura\", \"Arte\", \"Artes Escénicas\", \"Biografía y Autobiografía\", \"Casa y Hogar\", \"Ciencia\", \"Ciencias Políticas\", \"Ciencias Sociales\", \"Cocina\", \"Comida y Bebestibles\", \"Colecciones Literarias\", \"Cómics y Novelas Gráficas\", \"Computación e Internet\", \"Crímenes\", \"Crítica Literaria\", \"Cuerpo\", \"Mente y Espíritu\", \"Deportes y Recreación\", \"Drama\", \"Educación\", \"Estudio de Lenguas Extranjeras\", \"Ensayos Académicos\", \"Familia y Relaciones\", \"Ficción\", \"Ficción Adolescente\", \"Ficción para Niños\", \"Filosofía\", \"Fotografía\", \"Historia y Geografía\", \"Humor\", \"Jardinería\", \"Juegos\", \"Lectura escolar\", \"Lengua y Literatura\", \"Leyes\", \"Manualidades y Hobbies\", \"Mascotas y Animales\", \"Matemáticas\", \"Medicina\", \"Música\", \"Naturaleza y Aire libre\", \"Negocios y Economía\", \"Niños y Jóvenes\", \"Papelería\", \"Poesía\", \"Psicología\", \"Religión y Espiritualidad\", \"Salud y Bienestar\", \"Tecnología\", \"Transporte\", \"Viajes\"];\r\n\tselected_categories:Array<string> = [];\r\n\r\n\tconstructor( \tprivate _dbService:DatabaseService,\r\n\t\t\t\t\t\t\t\tprivate _dateService:DateService,\r\n\t\t\t\t\t\t\t\tprivate afAuth: AngularFireAuth,\r\n\t\t\t\t\t\t\t\tpublic router: Router ) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.form = \t\tnew FormGroup({\r\n\t\t\tname: \t\t\t\tnew FormControl(undefined, [Validators.required, Validators.pattern(\"^([A-Za-z ,.'ñáéíóú]{2,20})$\"), Validators.minLength(2)]),\r\n\t\t\tlast_name1: \tnew FormControl(undefined, [Validators.required, Validators.pattern(\"^([A-Za-z ,.'ñáéíóú]{2,20})$\"), Validators.minLength(2)]),\r\n\t\t\tlast_name2: \tnew FormControl(undefined, [Validators.required, Validators.pattern(\"^([A-Za-z ,.'ñáéíóú]{2,20})$\"), Validators.minLength(2)]),\r\n\t\t\trut: \t\t\t\t\tnew FormControl(undefined, [Validators.required, Validators.pattern('^[.0-9]{6,11}\\-?[kK0-9]{1}$')]),\r\n\t\t\tphone: \t\t\t\tnew FormControl('', [Validators.required, Validators.pattern('^[0-9]{8}$'),  Validators.minLength(8), Validators.maxLength(8)]),\r\n\t\t\t// TODO: Validar los géneros \r\n\t\t\tcategories: \tnew FormControl([], Validators.required),\r\n\t\t\temail: \t\t\t\tnew FormControl(undefined, [Validators.required, Validators.email, Validators.minLength(8)]),\r\n\t\t\tpassword: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tpassword2: \t\tnew FormControl(undefined, Validators.required),\r\n\t\t\tconditions: \tnew FormControl(false, Validators.required),\r\n\t\t}, { validators: this.areEquals( 'password', 'password2') });\r\n\t}\r\n\r\n\t// Verifica que ambas contraseñas ingresadas sean iguales\r\n\tareEquals(input1:string, input2:string){\r\n\t\treturn (group: FormGroup) => {\r\n\t\t\tlet pass1 = group.controls[input1].value;\r\n\t\t\tlet pass2 = group.controls[input2].value;\r\n\r\n\t\t\tif( pass1 === pass2 ){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tareEquals: true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Guarda un usuario nuevo, en DB\r\n\tsaveUser(){\r\n\t\tif (this.form.valid) {\r\n\t\t\tlet form=this.form.value;\r\n\r\n\t\t\tthis.afAuth.auth.createUserWithEmailAndPassword( form.email, form.password )\r\n\t\t\t\t.then( (resp:any) => {\r\n\r\n\t\t\t\t\t// Guarda el form para validarlo\r\n\t\t\t\t\tconst USER:Users = {\r\n\t\t\t\t\t\tuid: \t\t\t\t\tresp.user.uid,\r\n\t\t\t\t\t\trut: \t\t\t\t\tform.rut,\r\n\t\t\t\t\t\tname: \t\t\t\tform.name.toLowerCase(),\r\n\t\t\t\t\t\tlast_name1: \tform.last_name1.toLowerCase(),\r\n\t\t\t\t\t\tlast_name2: \tform.last_name2.toLowerCase(),\r\n\t\t\t\t\t\temail: \t\t\t\tform.email.toLowerCase(),\r\n\t\t\t\t\t\tcategories:\t\tthis.selected_categories, \r\n\t\t\t\t\t\tphone: \t\t\t\tform.phone,\r\n\t\t\t\t\t\tgoogle:      \tfalse,\r\n\t\t\t\t\t\tstatus:\t\t\t\ttrue,\r\n\t\t\t\t\t\trole:\t\t\t\t\t'normal',\r\n\t\t\t\t\t\tcreated_date: this._dateService.actual_date()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif( !this.form.value.conditions ){\r\n\t\t\t\t\t\tswal(\"Importante\", \"Debe aceptar los términos y condiciones\", \"warning\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Guarda al usuario en DB\r\n\t\t\t\t\tthis._dbService.addDataIdCustom('users', USER.uid, USER)\r\n\t\t\t\t\t\t.then( () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Se guardó el usuario\");\r\n\t\t\t\t\t\t\tswal('Cuenta creada con éxito', USER.email, 'success');\r\n\t\t\t\t\t\t\tthis.afAuth.auth.signOut();\r\n\t\t\t\t\t\t\tthis.router.navigate([ '/login' ]);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.catch( (err) => {\r\n\t\t\t\t\t\tconsole.log(\"Error al guardar al usuario\", err);\r\n\t\t\t\t\t\tswal(\"Error\", \"No se ha podido guardar el nuevo usuario\", \"warning\");\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch( (err) => console.error('ERROR: Crear usuario en firebase', err) );\r\n\t\t}else{\r\n\t\t\tconsole.log(\"No funcionó\")\r\n\t\t}\r\n\t}\r\n\r\n\t// Agrega una categoría al cuadro de categorías favoritas del usuario\r\n\taddCategory(index:number){\r\n\t\tthis.selected_categories.push(this.categories[index]);\r\n\t\tthis.categories.splice(index, 1);\t\t\t\t\r\n\t\t// TODO: Ordenar por index\r\n\t}\r\n\r\n\t// Remueve una categoría del cuadro de categorías favoritas del usuario\r\n\tremoveCategory(index:number){\r\n\t\tthis.categories.push(this.selected_categories[index]);\r\n\t\tthis.selected_categories.splice(index, 1);\t\t\t\t\r\n\t}\r\n\r\n\t// Cambia el fondo del register dependiendo de en qué etapa se encuentre\r\n\tgetBackground(page) { \r\n\t\tswitch (page) {\r\n\t\t  case 'page_1':\r\n\t\t\treturn 'url(../../assets/images/background/book-5.jpg)';\r\n\t\t  case 'page_2':\r\n\t\t\treturn 'url(../../assets/images/background/book-3.jpg)';\r\n\t\t  case 'page_3':\r\n\t\t\treturn 'url(../../assets/images/background/book-1.jpg)';\r\n\t\t}\r\n\t  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Books } from \"../interface/books.interface\";\r\n\r\n// Angularfire2\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\n\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class DatabaseService {\r\n\r\n\tbooks: any[] = [];\r\n\r\n\tconstructor( public afs: AngularFirestore ) {\r\n\t} \r\n\r\n\t// Retorna Observable\r\n\t// Trae toda la data de una colección específica.\r\n\tpublic getData( collection:string ){\r\n\t\treturn this.afs.collection<any>( collection );\r\n\t}\r\n\r\n\t// Retorna Observable\r\n\t// Trae la data que se especifica en la query, de una colección específica.\r\n\tpublic getDataQuery( collection:string, query:string, operator:any, value:any ){\r\n\t\treturn this.afs.collection<any>( collection, ref => ref.where(query, operator, value));\r\n\t}\r\n\t\r\n\t// Retorna Promesa\r\n\t// Agrega data con identificador específico.\r\n\tpublic addDataIdCustom( collection:string, id:string, document:any ){\r\n\t\treturn this.afs.collection<any>( collection ).doc( id ).set( document );\r\n\t}\r\n\r\n\t// Retorna Promesa\r\n\t// Agrega data sin identificador específico\r\n\tpublic addData( collection:string, document:any ){\r\n\t\treturn this.afs.collection<any>( collection ).add( document );\r\n\t}\r\n\r\n\t// Retorna Promesa\r\n\t// Actualiza la data según el id y el documento a modificar\r\n\tpublic updateData( collection:string, id:string, document:any ){\r\n\t\treturn this.afs.collection<any>( collection ).doc( id ).update( document );\r\n\t}\r\n\r\n\t// Retorna Promesa\r\n\t// Borra la data según el id especificado\r\n\tpublic deleteData( collection:string, id:string ){\r\n\t\treturn this.afs.collection<any>( collection ).doc( id ).delete();\r\n\t}\r\n}","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DateService {\r\n\r\n  constructor() { }\r\n// FIXME: Limpiar esto\r\n    // Extrae y retorna la fecha actual con un formato correcto\r\n    actual_date():string{\r\n        let date = new Date();\r\n        let dd, mm, hh, m;\r\n        let day = date.getDate(); \r\n        let month = (date.getMonth().valueOf() + 1); \r\n        let year = date.getFullYear();\r\n        let hour = date.getHours(); \r\n        let min = date.getMinutes();\r\n\r\n        if( day < 10 ) { dd = '0'+day;  } else{ dd = day; }\r\n        if( month < 10 ) { mm = '0'+month;  } else{ mm = month; }\r\n        if( hour < 10 ){ hh = '0'+hour; } else{ hh = hour; }\r\n        if( min < 10 ) { m  = '0'+min;  } else{ m  = min; }\r\n\r\n        return `${ dd }-${ mm }-${ year } ${hh}:${m}`;\r\n    }\r\n\r\n    // Extrae y retorna el día actual\r\n    actual_day():string{\r\n        let date = new Date();\r\n\t\tlet dd, mm;\r\n\t\tlet day = date.getDate(); \r\n\t\tlet month = (date.getMonth().valueOf() + 1); \r\n        let year = date.getFullYear();\r\n        \r\n        if( day < 10 ) { dd = '0'+ day; } else{ dd = day; }\r\n        if( month < 10 ) { mm = '0'+ month; } else{ mm = month; }\r\n\r\n        return `${ dd }-${ mm }-${ year }`;\r\n    }   \r\n\r\n    // Extrae y retorna la hora actual\r\n    actual_hour():string{\r\n        let date = new Date();\r\n        let hh, m;\r\n        let hour = date.getHours(); \r\n        let min = date.getMinutes();\r\n\r\n        if( hour < 10 ){ hh = '0'+hour; } else{ hh = hour; }\r\n        if( min < 10 ) { m  = '0'+min;  } else{ m  = min; }\r\n\r\n        return `${hh}:${m}`;\r\n    }\r\n\r\n\r\n\r\n  \r\n}","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class AdminGuard implements CanActivate {\r\n\t\r\n\tconstructor(private router:Router){\r\n\r\n\t}\r\n\r\n\tcanActivate() {\r\n\t\tconst admin = JSON.parse(localStorage.getItem('user')).role;\r\n\r\n\t\tif( admin === 'admin' ) {\r\n\t\t\treturn true;\r\n\t\t}else {\r\n\t\t\t// TODO: Mostrar un 403\r\n\t\t\tconsole.error('Bloqueado por el AdminGuard');\r\n\t\t\tthis.router.navigate(['/']);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class LoginGuardGuard implements CanActivate {\r\n\t\r\n\tconstructor(private router:Router){\r\n\r\n\t}\r\n\r\n\tcanActivate() {\r\n\t\tconst session = JSON.parse(localStorage.getItem('session')).session;\r\n\r\n\t\tif(session) {\r\n\t\t\treturn true;\r\n\t\t}else {\r\n\t\t\tconsole.error('Bloqueado por el Guard');\r\n\t\t\tthis.router.navigate(['/login']);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n","module.exports = \"<header class=\\\"topbar\\\">\\r\\n\\t<nav class=\\\"navbar top-navbar navbar-expand-md navbar-light\\\">\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<!-- Logo \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<div class=\\\"navbar-header\\\">\\r\\n\\t\\t\\t<a class=\\\"navbar-brand\\\" [routerLink]=\\\"['/home']\\\">\\r\\n\\t\\t\\t\\t<b>\\r\\n\\t\\t\\t\\t\\t<!-- Logo icon -->\\r\\n\\t\\t\\t\\t\\t<img src=\\\"assets/images/logo-icon.png\\\" style=\\\"max-width: 60px; max-height: 60px\\\" alt=\\\"homepage\\\" class=\\\"dark-logo\\\" />\\r\\n\\t\\t\\t\\t</b>\\r\\n\\t\\t\\t\\t<span>\\r\\n\\t\\t\\t\\t\\t<!-- Logo text -->\\r\\n\\t\\t\\t\\t\\t<img src=\\\"assets/images/logo-text.png\\\" alt=\\\"homepage\\\" class=\\\"dark-logo\\\" />\\r\\n\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t</a>\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<!-- End Logo \\t\\t\\t\\t\\t\\t\\t\\t\\t                           \\t\\t\\t\\t\\t-->\\r\\n\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t<div class=\\\"navbar-collapse\\\">\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<!-- Toggle and nav items \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<ul class=\\\"navbar-nav mr-auto\\\">\\r\\n\\t\\t\\t\\t<!-- This is  -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t\\t<a class=\\\"nav-link nav-toggler hidden-md-up waves-effect waves-dark\\\" href=\\\"javascript:void(0)\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"ti-menu\\\"></i>\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t\\t<a class=\\\"nav-link sidebartoggler hidden-sm-down waves-effect waves-dark\\\" href=\\\"javascript:void(0)\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"ti-menu\\\"></i>\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item\\\"></li>\\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<!-- User profile, notifications, add book and search \\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t<ul class=\\\"navbar-nav my-lg-0\\\">\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Search \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item search-box\\\">\\r\\n\\t\\t\\t\\t\\t<a class=\\\"nav-link waves-effect waves-dark\\\" href=\\\"javascript:void(0)\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"ti-search\\\"></i>\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"app-search\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Buscar...\\\" (keyup.enter)=\\\"searchBook(Search.value)\\\" #Search>\\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"srh-btn\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-close\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End search \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Notifications \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item dropdown\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a class=\\\"nav-link dropdown-toggle waves-effect waves-dark\\\" href=\\\"\\\" data-toggle=\\\"dropdown\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\taria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n\\t\\t\\t\\t\\t\\t<i class=\\\"mdi mdi-message\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"notify\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"point\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu dropdown-menu-right mailbox animated bounceInDown\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"drop-title\\\">Notifications</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"message-center ps ps--theme_default\\\" data-ps-id=\\\"25e64876-6300-b616-4d99-8cc55be034ec\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Message -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-danger btn-circle\\\"><i class=\\\"fa fa-link\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mail-contnet\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>Luanch Admin</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"mail-desc\\\">Just see the my new admin!</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\">9:30 AM</span> </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Message -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-success btn-circle\\\"><i class=\\\"ti-calendar\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mail-contnet\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>Event today</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"mail-desc\\\">Just a reminder that you have event</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\">9:10 AM</span> </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Message -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-info btn-circle\\\"><i class=\\\"ti-settings\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mail-contnet\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>Settings</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"mail-desc\\\">You can customize this template as you want</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\">9:08 AM</span> </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Message -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn btn-primary btn-circle\\\"><i class=\\\"ti-user\\\"></i></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mail-contnet\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5>Pavan kumar</h5>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"mail-desc\\\">Just see the my admin!</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\">9:02 AM</span> </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ps__scrollbar-x-rail\\\" style=\\\"left: 0px; bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ps__scrollbar-x\\\" tabindex=\\\"0\\\" style=\\\"left: 0px; width: 0px;\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ps__scrollbar-y-rail\\\" style=\\\"top: 0px; right: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ps__scrollbar-y\\\" tabindex=\\\"0\\\" style=\\\"top: 0px; height: 0px;\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a class=\\\"nav-link text-center\\\" href=\\\"javascript:void(0);\\\"> <strong>Check all notifications</strong> <i class=\\\"fa fa-angle-right\\\"></i> </a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End Notifications \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Messages\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item dropdown\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\" class=\\\"nav-link dropdown-toggle waves-effect waves-dark\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-toggle=\\\"dropdown\\\" href=\\\"\\\" id=\\\"2\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<i class=\\\"mdi mdi-email\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"notify\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"point\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t<app-messages></app-messages>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End messages \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Add book \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item\\\">\\r\\n\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/addBook']\\\" class=\\\"nav-link waves-effect waves-dark\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img src=\\\"assets/images/add.png\\\" alt=\\\"add_book\\\" style=\\\"width: 25px;\\\" />\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End Add book \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- Profile \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-item dropdown\\\">\\r\\n\\t\\t\\t\\t\\t<a aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\" class=\\\"nav-link dropdown-toggle waves-effect waves-dark\\\" \\r\\n\\t\\t\\t\\t\\tdata-toggle=\\\"dropdown\\\" href=\\\"\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"profile.img\\\" alt=\\\"user\\\" class=\\\"img-circle-50\\\" *ngIf=\\\"!loading; else loadingElse\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t<ng-template #loadingElse>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-loading></app-loading>\\r\\n\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu dropdown-menu-right mailbox animated bounceInDown\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ul class=\\\"dropdown-user\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"dw-user-box\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"u-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"profile.img\\\" alt=\\\"user\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"u-text\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4>{{ profile.name | titlecase }} {{ profile.last_name1 | titlecase }} {{ profile.last_name2 | titlecase }}</h4>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-muted\\\">{{ profile.email }}</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/profile']\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-rounded btn-danger btn-sm\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tVer perfil\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li role=\\\"separator\\\" class=\\\"divider\\\"></li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/profile']\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-user\\\"></i> &nbsp; Mi perfil\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/library']\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-wallet\\\"></i> &nbsp; Mi biblioteca\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/messages']\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"ti-email\\\"></i> &nbsp; Mis mensajes\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li role=\\\"separator\\\" class=\\\"divider\\\"></li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"logout()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-power-off\\\"></i> &nbsp; Cerrar sesión\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t\\t<!-- End Profile \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-->\\r\\n\\t\\t\\t\\t<!-- ============================================================== -->\\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t</div>\\r\\n\\t</nav>\\r\\n</header>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// ANGULARFIRE2\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\n// SERVICE\r\nimport { DatabaseService } from \"../../services/database.service\";\r\n\r\n// PLUGINS\r\nimport swal from 'sweetalert';\r\n\r\n@Component({\r\n\tselector: 'app-header',\r\n\ttemplateUrl: './header.component.html'\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n\tprofile:any;\r\n\tloading:boolean = true;\r\n\r\n\tconstructor( \tprivate router:Router, \r\n\t\t\t\t\tprivate auth: AngularFireAuth,\r\n\t\t\t\t\tprivate _dbService:DatabaseService ) {\r\n\t\tlet actual_user = JSON.parse( localStorage.getItem( \"user\" ) );\r\n\t\t  \r\n\t\tthis._dbService.getDataQuery( \"users\", \"uid\", \"==\", actual_user.uid)\r\n\t\t\t.snapshotChanges()\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(actions => actions.map(a => {\r\n\t\t\t\t\tconst data = a.payload.doc.data();\r\n\t\t\t\t\tconst key = a.payload.doc.id;\r\n\t\t\t\t\treturn { key, ...data };\r\n\t\t\t\t}))\r\n\t\t\t).subscribe( data => {\r\n\t\t\t\tthis.profile = [];\r\n\t\t\t\tthis.profile = data[0];\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t});\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.resetProfile();\r\n\t}\r\n\r\n  // Busca un libro según el texto de entrada\r\n\tsearchBook( input:string ){\r\n\t\tthis.router.navigate(['/search', input]);\r\n\t}\r\n\r\n  // Cierra la sesión del usuario actual\r\n\tlogout(){\r\n\t\tthis.auth.auth.signOut()\r\n\t\t\t.then( () => {\r\n\t\t\t\tlocalStorage.removeItem('user');\r\n\r\n\t\t\t\tlet rememberMe = JSON.parse(localStorage.getItem('session')).rememberMe;\r\n\t\t\t\tlocalStorage.setItem('session', JSON.stringify({\r\n\t\t\t\t\tsession: false,\r\n\t\t\t\t\trememberMe: rememberMe\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tswal('Adiós', 'Vuelva pronto', 'success');\r\n\t\t\t\tthis.router.navigate(['/login']);\r\n\t\t\t})\r\n\t\t\t.catch( ()=> swal('Error al cerrar sesión', 'Vuelva a intentarlo', 'error') );\r\n  }\r\n  \r\n  resetProfile(){\r\n    this.profile =  {\r\n\t\t\tuid: \t\t\t    '', \r\n\t\t\trut: \t\t\t    '', \r\n\t\t\tname: \t\t   \t'', \r\n\t\t\tlast_name1: \t'', \r\n\t\t\tlast_name2: \t'', \r\n\t\t\temail: \t\t  \t[], \r\n\t\t\tphone: \t\t  \t'', \r\n\t\t\tranking: \t  \t0,\r\n\t\t\tfavs_genres:\t[], \r\n\t\t\tcommune: \t  \t''\r\n\t\t};\r\n  }\r\n\r\n}\r\n","module.exports = \"<div aria-labelledby=\\\"2\\\" class=\\\"dropdown-menu mailbox dropdown-menu-right animated bounceInDown\\\">\\r\\n\\t<ul>\\r\\n\\t\\t<li>\\r\\n  \\t\\t<div class=\\\"drop-title\\\">Tienes {{ new_messages }} mensaje/s</div>\\r\\n\\t\\t</li>\\r\\n\\t\\t<li>\\r\\n\\t\\t\\t<div class=\\\"message-center ps ps--theme_default ps--active-y\\\" data-ps-id=\\\"5d9236dd-5d99-76c4-56fe-c7629b8cdc1b\\\"\\r\\n\\t\\t\\t\\t\\t*ngFor=\\\"let m of messages; let i = index;\\\">\\r\\n\\t\\t\\t\\t<a class=\\\"pointer\\\" (click)=\\\"showMessage(m.key)\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"user-img\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img *ngIf=\\\"m.uid_interested.uid !== uid\\\" class=\\\"img-circle img-circle-40\\\" [src]=\\\"m.uid_interested.img\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img *ngIf=\\\"m.user_owner !== uid\\\" class=\\\"img-circle img-circle-40\\\" [src]=\\\"m.book.user.img\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span [ngClass]=\\\"{'online': m.status, 'busy': !m.status}\\\" class=\\\"profile-status pull-right\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t<!-- TODO: Estado del mensaje -->\\r\\n\\t\\t\\t\\t\\t\\t<!-- online es verde, busy es rojo, away es naranjo, offline es naranjo -->\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"mail-contnet\\\">\\r\\n\\t\\t\\t\\t\\t\\t<h5 *ngIf=\\\"m.uid_interested.uid !== uid\\\"> {{ m.uid_interested.name | titlecase }} {{ m.uid_interested.last_name1 | titlecase }} {{ m.uid_interested.last_name2 | titlecase }} </h5>\\r\\n\\t\\t\\t\\t\\t\\t<h5 *ngIf=\\\"m.user_owner !== uid\\\"> {{ m.book.user.name | titlecase }} {{ m.book.user.last_name1 | titlecase }} {{ m.book.user.last_name2 | titlecase }} </h5>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"mail-desc\\\"> {{ m.text[m.text.length-1][m.user_owner] }} {{ m.text[m.text.length-1][m.uid_interested.uid] }} </span>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\"> {{ m.date }} </span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</li>\\r\\n\\t\\t<li>\\r\\n\\t\\t\\t<a class=\\\"nav-link text-center\\\" [routerLink]=\\\"['/messages']\\\">\\r\\n\\t\\t\\t\\t<strong>Ver todos los mensajes</strong>\\r\\n\\t\\t\\t\\t<i class=\\\"fa fa-angle-right\\\"></i>\\r\\n\\t\\t\\t</a>\\r\\n\\t\\t</li>\\r\\n\\t</ul>\\r\\n</div>\"","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n// SERVICIOS\r\nimport { DatabaseService } from '../../services/database.service';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n\tselector: 'app-messages',\r\n\ttemplateUrl: './messages.component.html'\r\n})\r\nexport class MessagesComponent {\r\n\r\n\tuid:string;\r\n\tmessages:any = [];\r\n\tnew_messages:number = 0;\r\n\r\n\tconstructor( private _dbService:DatabaseService, private router: Router ) { \r\n\t\tthis.uid = JSON.parse(localStorage.getItem('user')).uid;\r\n\r\n\t\tthis._dbService.getData('messages-transaction')\r\n\t\t\t.snapshotChanges()\r\n\t\t\t.pipe(\r\n\t\t\t\tmap( actions => actions.map(a => {\r\n          const data = a.payload.doc.data();\r\n\t\t\t\t\tconst key = a.payload.doc.id;\r\n\t\t\t\t\treturn { key, ...data };\r\n\t\t\t\t})),\r\n\t\t\t\tmap( (res:any) => {\r\n\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\tfor(let r of res){\r\n\t\t\t\t\t\tif( r.user_owner === this.uid || r.uid_interested.uid === this.uid )\r\n\t\t\t\t\t\t\tarr.push(r);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe( data => {\r\n\t\t\t\tthis.messages = [];\r\n\t\t\t\tthis.messages = data;\r\n\t\t\t});\r\n\r\n\t\t\t// Obtener la cantidad de mensajes no leidos\r\n\t\t\tthis._dbService.getDataQuery('messages-transaction', 'status', '==', false)\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.subscribe( data => this.new_messages = data.length );\r\n\t}\r\n\r\n\tshowMessage( $key:string ){\r\n\t\tthis.router.navigate(['/messages', $key]);\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Componentes\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { LoadingComponent } from '../components/loading/loading.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n      RouterModule,\r\n      CommonModule,\r\n    ],\r\n    declarations: [\r\n      HeaderComponent,\r\n      SidebarComponent,\r\n      MessagesComponent,\r\n      LoadingComponent\r\n    ],\r\n    exports: [\r\n      HeaderComponent,\r\n      SidebarComponent,\r\n      MessagesComponent,\r\n      LoadingComponent\r\n    ]\r\n})\r\nexport class SharedModule { }","module.exports = \"<aside class=\\\"left-sidebar\\\">\\r\\n\\t<div class=\\\"scroll-sidebar\\\">\\r\\n\\t\\t<nav class=\\\"sidebar-nav\\\">\\r\\n\\t\\t\\t<ul id=\\\"sidebarnav\\\">\\r\\n\\t\\t\\t \\t<li class=\\\"nav-small-cap\\\">CATEGORÍAS</li>\\r\\n\\t\\t\\t\\t <li class=\\\"nav-devider\\\"></li>\\r\\n\\t\\t\\t\\t <!-- TODO: ponerle estilos -->\\r\\n\\t\\t\\t\\t<li class=\\\"nav-small-cap\\\" \\r\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"active\\\"\\r\\n\\t\\t\\t\\t\\t\\tstyle=\\\"cursor: pointer;\\\" \\r\\n\\t\\t\\t\\t\\t\\t*ngFor=\\\"let c of categories\\\">\\r\\n\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/search', 'sidebar.'+c]\\\"> {{ c }} </a>\\r\\n\\t\\t\\t\\t</li>               \\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t</nav>\\r\\n\\t</div>\\r\\n</aside>\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n// SERVICES\r\nimport { DatabaseService } from 'src/app/services/database.service';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html'\r\n})\r\nexport class SidebarComponent implements OnInit {\r\n\r\n  books:any;\r\n\r\n  // TODO: FIXME: hay que crear estas datas en archivos aparte para mantener el orden.\r\n  categories:Array<string>=[\"Antiguedades y Coleccionables\", \"Arquitectura\", \"Arte\", \"Artes Escénicas\", \"Biografía y Autobiografía\", \"Casa y Hogar\", \"Ciencia\", \"Ciencias Políticas\", \"Ciencias Sociales\", \"Cocina\", \"Comida y Bebestibles\", \"Colecciones Literarias\", \"Cómics y Novelas Gráficas\", \"Computación e Internet\", \"Crímenes\", \"Crítica Literaria\", \"Cuerpo\", \"Mente y Espíritu\", \"Deportes y Recreación\", \"Drama\", \"Educación\", \"Estudio de Lenguas Extranjeras\", \"Ensayos Académicos\", \"Familia y Relaciones\", \"Ficción\", \"Ficción Adolescente\", \"Ficción para Niños\", \"Filosofía\", \"Fotografía\", \"Historia y Geografía\", \"Humor\", \"Jardinería\", \"Juegos\", \"Lectura escolar\", \"Lengua y Literatura\", \"Leyes\", \"Manualidades y Hobbies\", \"Mascotas y Animales\", \"Matemáticas\", \"Medicina\", \"Música\", \"Naturaleza y Aire libre\", \"Negocios y Economía\", \"Niños y Jóvenes\", \"Papelería\", \"Poesía\", \"Psicología\", \"Religión y Espiritualidad\", \"Salud y Bienestar\", \"Tecnología\", \"Transporte\", \"Viajes\"];\r\n\r\n  constructor( private _dbService: DatabaseService, private router: Router ) { }\r\n\r\n  ngOnInit() {\r\n    this._dbService.getData('books')\r\n\t\t  .valueChanges()\r\n\t\t\t.subscribe( data => this.books = data );\r\n  }\r\n\r\n  // Busca los libros según el search, que es la categoría.\r\n  searchCategory( search:string ){\r\n    let searchCategories = [];\r\n\r\n    for( let book of this.books ) {\r\n      let categories = book.genres;\r\n      let flag = false; // con esto valido que se agregue solo 1 vez el mismo libro\r\n      \r\n      for( let category of categories ){\r\n        let cat = category.toLowerCase();\r\n\r\n        if( cat.indexOf(search.toLowerCase()) >= 0 && !flag ) {\r\n          flag = true;\r\n          searchCategories.push(book);\r\n        }\r\n      }\r\n    }\r\n    this.router.navigate(['/search', search]);\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: \"AIzaSyBxspKKccHy_9WBI5Q1xEnbpZcxLdvMI0w\",\r\n    authDomain: \"booksapp-chile.firebaseapp.com\",\r\n    databaseURL: \"https://booksapp-chile.firebaseio.com\",\r\n    projectId: \"booksapp-chile\",\r\n    storageBucket: \"booksapp-chile.appspot.com\",\r\n    messagingSenderId: \"748589695279\"\r\n  }\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}